<!DOCTYPE html><html><head><meta charset='utf-8'><title>文字コード誤認識します</title><link rel='stylesheet' href='bbs.css' /><script src='bbs.js'></script><body><ul class="side"><a href="./" class="toindex">←一般トップへ</a><li><div class="list-title">
    <span class="no">5853</span>
    <a class="title" href="5853.html#5853">文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5854</span>
    <a class="title" href="5853.html#5854">Re:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5883</span>
    <a class="title" href="5853.html#5883">Re2:文字コード誤認識します</a></div>
    </li><li><div class="list-title">
    <span class="no">5912</span>
    <a class="title" href="5853.html#5912">Re2:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5913</span>
    <a class="title" href="5853.html#5913">Re3:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5914</span>
    <a class="title" href="5853.html#5914">Re4:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5915</span>
    <a class="title" href="5853.html#5915">履歴で、削除したファイルを開くと、後で復活しても戻せません。</a></div>
    <ul><li><div class="list-title">
    <span class="no">5948</span>
    <a class="title" href="5853.html#5948">Re:履歴で、削除したファイルを開くと、後で復活しても戻せません。</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5936</span>
    <a class="title" href="5853.html#5936">Re5:文字コード誤認識します</a></div>
    </li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5855</span>
    <a class="title" href="5853.html#5855">Re:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5858</span>
    <a class="title" href="5853.html#5858">Re2:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5884</span>
    <a class="title" href="5853.html#5884">Re3:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5885</span>
    <a class="title" href="5853.html#5885">Re4:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5886</span>
    <a class="title" href="5853.html#5886">Re5:文字コード誤認識します</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5889</span>
    <a class="title" href="5853.html#5889">Re4:文字コード誤認識します</a></div>
    </li><li><div class="list-title">
    <span class="no">5898</span>
    <a class="title" href="5853.html#5898">Re4:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5903</span>
    <a class="title" href="5853.html#5903">Re5:文字コード誤認識します</a></div>
    </li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5890</span>
    <a class="title" href="5853.html#5890">Re:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5893</span>
    <a class="title" href="5853.html#5893">Re2:文字コード誤認識します</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5949</span>
    <a class="title" href="5853.html#5949">Re:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5950</span>
    <a class="title" href="5853.html#5950">Re2:文字コード誤認識します</a></div>
    <ul><li><div class="list-title">
    <span class="no">5951</span>
    <a class="title" href="5853.html#5951">Re3:文字コード誤認識します</a></div>
    </li></ul></li></ul></li></ul></li></ul><ul class="main"><li><section><h1 id=5853>
    <span class="no">[5853]</span>
    <a class="title" href="#5853">文字コード誤認識します</a>
    <span class="author">すす</span>
    <time datetime="2007-02-22T11:58:24">2007年02月22日 11:58</time></h1>
    <div class="body">連続したＳＪＩＳ半角カナのみのファイルを開くとEUCと誤認識します。<br>全角文字が入ったり半角カナ１文字の前後にスペースがあったり<br>半角英数があったりするとちゃんと認識するみたいです。<br><br>ver1.5.15.1で確認しました。<br>ver1.5.13ではちゃんとＳＪＩＳと認識します。<br><br>SJISの半角カナと半角スペースのみのファイル<br>扱う人って少ないのかな。<br></div></section>
    <ul><li><section><h1 id=5854>
    <span class="no">[5854]</span>
    <a class="title" href="#5854">Re:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-02-22T12:52:03">2007年02月22日 12:52</time></h1>
    <div class="body">▼ すすさん<br>&gt; ver1.5.15.1で確認しました。<br>&gt; ver1.5.13ではちゃんとＳＪＩＳと認識します。<br>&gt;<br>&gt; SJISの半角カナと半角スペースのみのファイル扱う人って少ないのかな。<br><br>ver1.5.14.200でも同じでした。EUCと認識します。<br>しかし、バグとかのバージョン管理の問題では無いと思います。<br>半角カナはインターネットから締め出されてますから。<br>EUCは、UNIX/BSD/Linuxで多く使います。<br>このあたりの要求仕様とかユースケースは、仕様書としてどうなってるんでしょうか。<br>8bitの時どっちを優先させるか、とか。<br>要る事も無いですが。一度開いたファイルはヒストリーに保存される仕様ですから。<br></div></section>
    <ul><li><section><h1 id=5883>
    <span class="no">[5883]</span>
    <a class="title" href="#5883">Re2:文字コード誤認識します</a>
    <span class="author">すす</span>
    <time datetime="2007-02-26T10:30:49">2007年02月26日 10:30</time></h1>
    <div class="body">▼ じゅうじさん<br>&gt; ▼ すすさん<br>&gt; 半角カナはインターネットから締め出されてますから。<br>それはわかっているのですがimodeだと半角カナは普通に<br>使われるのですよね。<br><br>すべての文字コードを完全に自動認識させるのは無理があると思いますけど。<br>前認識してたのに～と思ってしまったのです。</div></section>
    </li><li><section><h1 id=5912>
    <span class="no">[5912]</span>
    <a class="title" href="#5912">Re2:文字コード誤認識します</a>
    <span class="author">すい</span>
    <time datetime="2007-03-03T16:03:19">2007年03月03日 16:03</time></h1>
    <div class="body">&gt;一度開いたファイルはヒストリーに保存される仕様ですから。<br>自動認識、↑この辺がらみで。<br><br>共通設定 - [ファイル]タブにて<br>「前回と異なる文字コードのとき問い合わせを行う(&amp;Q)」がチェックoff の場合、<br>前回の時の文字コードを採用するようになりましたよね。<br><br>↑これは良いのですが、その「過去に開いたことがあるファイル」が<br>存在しなかった場合、前回の文字コードを無視して勝手に Shift_JIS に<br>なってしまいます。<br><br>例えば、常に UTF-8 で書き込まれる特定の名前のログファイルがあったとして、<br>そのファイル内の過去のログ情報が不要になった場合、<br><br>・方法１<br>　ログファイルの内容を全部削除して上書き保存。(サイズ 0 のファイルにしておく。)<br><br>・方法２<br>　ログファイルをバッサリ削除しておく。<br><br>の２通りの方法が考えられますが、<br><br>方法１だと、そのサイズ 0 のファイルを開いても文字コードは UTF-8 のままの<br>扱いになりますが、<br><br>方法２だと、「最近開いたファイル」から そのファイルを開いた場合、文字コードが<br>勝手に Shift_JIS に変わってしまい、以後、文字化け．．．<br><br>ファイルが存在しなかった場合（上記パターン２の場合）でも、文字コードは<br>前回と同じにした方が良いと思うのですが。<br></div></section>
    <ul><li><section><h1 id=5913>
    <span class="no">[5913]</span>
    <a class="title" href="#5913">Re3:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-03T19:02:03">2007年03月03日 19:02</time></h1>
    <div class="body">▼ すいさん<br>&gt;存在しなかった場合、前回の文字コードを無視して勝手に Shift_JIS になってしまいます。<br>&gt;例えば、常に UTF-8 で書き込まれる特定の名前のログファイルがあったとして、<br><br>それは、ヒョットして、例えば、ログファイルがEUCとかJISでも同じですか？<br><br>・方法2は、ファイル名が同じなら、削除してもいいと思いました。サクラの履歴から消えるタイミングは？</div></section>
    <ul><li><section><h1 id=5914>
    <span class="no">[5914]</span>
    <a class="title" href="#5914">Re4:文字コード誤認識します</a>
    <span class="author">すい</span>
    <time datetime="2007-03-03T20:55:30">2007年03月03日 20:55</time></h1>
    <div class="body">&gt;・方法2は、ファイル名が同じなら、削除してもいいと思いました。<br><br>はい、私もそう思うので、標準的には「ログファイル削除」をやってしまいます。<br><br>&gt;サクラの履歴から消えるタイミングは？<br><br>実際にやってみれば分かると思いますが、<br>履歴から消えるわけではありません。<br>「履歴が完全に無視される」というお話です。<br>履歴の「前回開いていた時の文字コード」の情報が無視され、<br>デフォルトの Shift_JIS ファイル扱いになってしまう、という事です。<br></div></section>
    <ul><li><section><h1 id=5915>
    <span class="no">[5915]</span>
    <a class="title" href="#5915">履歴で、削除したファイルを開くと、後で復活しても戻せません。</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-03T22:56:18">2007年03月03日 22:56</time></h1>
    <div class="body">▼ すいさん<br>文字コードも、改行コードもカーソル位置も復活しません。という事ですね？<br><br>1)sakuraでファイルを開く。<br>2)1.で開いたファイルを閉じる（保存でなくてもよい）。<br>3)1.で開いたファイルをリネーム（削除）する。<br>4)sakuraの最近開いたファイルから、1.で開いていたファイルを開く。<br>　ファイルが無いため、サイズ0でSJISのファイルが編集可能になる。<br>　ここで、一旦このファイルのウインドウを閉じられても遅いのです。<br>5)3.で削除したファイルをリネーム（復活）する。<br>6)新しく開いたウインドウで、もちろん4.のウインドウでも、1.のファイルが開けない。<br>7)4.のウインドウを閉じれば、1.のファイルは開けるが、文字コードも…<br><br>ヘルプに追加するべき、問題でしょうか。仕様の気もします。</div></section>
    <ul><li><section><h1 id=5948>
    <span class="no">[5948]</span>
    <a class="title" href="#5948">Re:履歴で、削除したファイルを開くと、後で復活しても戻せません。</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-17T12:03:49">2007年03月17日 12:03</time></h1>
    <div class="body">▼maruさん patch:1672919<br>的確な御判断だと思います。コメント有り難う御座います。<br><br>&gt;▼じゅうじさん<br>&gt;１について、前回変更した理由を明確にしてください。<br>&gt;<br>&gt;状況から見て「前回と異なるとき…」の設定は自動認識結果のみに反応<br>&gt;する、という誤解から発生した意図しない仕様変更にしか見えません。<br>&gt;<br>&gt;&gt;<br>&gt;コマンドラインから文字コード指定で開く場合は、「前回の文字コード…」OFFで<br>&gt;&gt;<br>&gt;問い合わせを止めているにもかかわらず、ダイアログが表示される事になります。<br>&gt;いや、表示されませんね。「一旦閉じて…」のワーニングと混同していませんか？<br>&gt;<br>&gt;念の書きますが、1.5.13.1以前から「前回の文字コード…」の設定にかかわらず<br>&gt;異なるときはワーニングです。<br>&gt;svn:1034のCEditDoc::OpenFileのコメントアウトは仕様変更の目的ではありません。<br>&gt;自動認識優先はなくなったため、見る必要がなくなっただけです。<br>&gt;<br>&gt;３について<br>&gt;<br>&gt;説明不足でしたが１を元に戻すなら検討不要です。<br>&gt;もし「前回と異なるとき…」が自動認識結果のみにしか反応しない仕様を<br>&gt;前提とするなら、より適切なオプションを検討したい<br>&gt;という段階ですので、今すぐどうこうという話ではありません。<br></div></section>
    </li></ul></li><li><section><h1 id=5936>
    <span class="no">[5936]</span>
    <a class="title" href="#5936">Re5:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-06T16:35:25">2007年03月06日 16:35</time></h1>
    <div class="body">あ、あと、履歴のファイルが削除されていた場合、「新規にファイルを作成しますか？止めますか？」のような、選択が考えられましたが、現状維持という事で、特に追加はしていません。<br>このpatchの場合は、「（削除されたファイルと同じ文字コードで）新規にファイルを作成します」の動作になります。</div></section>
    </li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=5855>
    <span class="no">[5855]</span>
    <a class="title" href="#5855">Re:文字コード誤認識します</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-02-22T18:17:20">2007年02月22日 18:17</time></h1>
    <div class="body">▼ すすさん<br>&gt; 連続したＳＪＩＳ半角カナのみのファイルを開くとEUCと誤認識します。<br>&gt; ・・・（中略）・・・<br>&gt; ver1.5.15.1で確認しました。<br>&gt; ver1.5.13ではちゃんとＳＪＩＳと認識します。<br><br>デフォルト文字コード、SJIS と判別されるべきところが、<br>EUC と判別されるということなので、たぶん、バグです（汗）<br></div></section>
    <ul><li><section><h1 id=5858>
    <span class="no">[5858]</span>
    <a class="title" href="#5858">Re2:文字コード誤認識します</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-02-23T19:31:40">2007年02月23日 19:31</time></h1>
    <div class="body">SJIS 半角カナを判定ポイントに加点する修正版バイナリを<br>アップしました。<br><br><a href=http://sakura.qp.land.to/?Junk%2F26 target=_top><nobr>http://<wbr>sakura.<wbr>qp.<wbr>land.<wbr>to/?<wbr>Junk%<wbr>2F26</nobr></a><br><br>やっぱり、SJIS に判定が偏りがちになるのですけれど…、<br>どんな具合か試していただければ幸いです。<br><br>あと、バージョン番号とかの識別番号に<br>変更を入れてないので、<br>取り扱いに気をつけてください（汗）<br></div></section>
    <ul><li><section><h1 id=5884>
    <span class="no">[5884]</span>
    <a class="title" href="#5884">Re3:文字コード誤認識します</a>
    <span class="author">すす</span>
    <time datetime="2007-02-26T10:34:53">2007年02月26日 10:34</time></h1>
    <div class="body">▼ ラスティブさん<br>&gt; やっぱり、SJIS に判定が偏りがちになるのですけれど…、<br>&gt; どんな具合か試していただければ幸いです。<br>ありがとうございます。<br>ためさせていただきました。<br>SJISの半角カナはＯＫです。<br>UNIX_EUCの普通のファイルも問題ないみたいです。<br><br>ただ、私は使わないのでいいのですが<br>EUCの半角カナのみのファイルをSJISと認識するようですねぇ。<br>なんか、揚げ足取るみたいなかんじですみません。</div></section>
    <ul><li><section><h1 id=5885>
    <span class="no">[5885]</span>
    <a class="title" href="#5885">Re4:文字コード誤認識します</a>
    <span class="author">通りすがり</span>
    <time datetime="2007-02-26T18:41:58">2007年02月26日 18:41</time></h1>
    <div class="body">EUC半角カナは0x8e??なのを利用してスコアを付けてみるとか妄想<br><br></div></section>
    <ul><li><section><h1 id=5886>
    <span class="no">[5886]</span>
    <a class="title" href="#5886">Re5:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-02-27T01:09:10">2007年02月27日 01:09</time></h1>
    <div class="body">ラスティブさん<br>7bitANKと、第一水準漢字、第二水準漢字のみは、EUCカナ<br>ではどうでしょうか。</div></section>
    </li></ul></li><li><section><h1 id=5889>
    <span class="no">[5889]</span>
    <a class="title" href="#5889">Re4:文字コード誤認識します</a>
    <span class="author">すす</span>
    <time datetime="2007-02-27T12:45:49">2007年02月27日 12:45</time></h1>
    <div class="body">▼ すすさん<br>&gt; ▼ ラスティブさん<br>&gt; ただ、私は使わないのでいいのですが<br>「扱わない」の誤りです。</div></section>
    </li><li><section><h1 id=5898>
    <span class="no">[5898]</span>
    <a class="title" href="#5898">Re4:文字コード誤認識します</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-02-28T15:45:06">2007年02月28日 15:45</time></h1>
    <div class="body">▼ すすさん<br>&gt; EUCの半角カナのみのファイルをSJISと認識するようですねぇ。<br><br>正直、手に追えません（ぜぇ、ぜぇ(-e-;)）<br><br>コードポイントが完全にダブっていて、<br>どっちの文字コードだか区別が付かなくなってる場合、<br>意味のない文字列を見つけて評価ポイントを下げるか、<br>意味のある文字列を見つけて評価ポイントを上げるかしか<br>手がない気がしています。つまり、文字化けしたときに、<br>慣れたユーザーがとっている方法と同じやり方です。<br>その、意味のある／ない文字列を見分ける巧い方法が・・・（^^;）。<br><br>▼ じゅうじさん<br>&gt; バグとかのバージョン管理の問題では無いと思います。<br>&gt; 半角カナはインターネットから締め出されてますから。<br>&gt; ・・・（中略）・・・<br>&gt; このあたりの要求仕様とかユースケースは、仕様書としてどうなってるんでしょうか。<br><br>1.5.15.x の自動認識機能は、1.5.14.x 以前の自動認識機能の動作を継承しつつ、<br>UTF-8/UTF-16 まわりの判定が改善されたものとされています。<br>すすさんの指摘した、SJIS 半角カナを誤認するというのは・・・<br>不具合ですけれど（^^;;;）、なかなか手がつけられないものに入りそうです。<br></div></section>
    <ul><li><section><h1 id=5903>
    <span class="no">[5903]</span>
    <a class="title" href="#5903">Re5:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-02T05:52:17">2007年03月02日 05:52</time></h1>
    <div class="body">▼ ラスティブさん<br>&gt; すすさんの指摘した、SJIS 半角カナを誤認するというのは・・・<br>&gt; 不具合ですけれど（^^;;;）、なかなか手がつけられないものに入りそうです。<br><br>SJISのカナは、良いようですよ、1.5.14 以前は、EUCのカナも正しく認識・判断していましたが、それは継承出来ないんですよね。<br>SJISの漢字で得点採ってても、それがEUCカナと一致するという事ではないでしょうか。<br>気長に待ちます。</div></section>
    </li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=5890>
    <span class="no">[5890]</span>
    <a class="title" href="#5890">Re:文字コード誤認識します</a>
    <span class="author">OCYA</span>
    <time datetime="2007-02-27T18:11:27">2007年02月27日 18:11</time></h1>
    <div class="body">半カナがらみでもう一点、お願いします。<br><br>デスクトップに新規テキストを作り、サクラで半角"アアア"など打ち込んだ後保存します。<br>再度開くと、文字コード認識ダイアログが出るのですが、このファイルをコピー（CTL+C）したものは強制的にEUCで開かれるようです。</div></section>
    <ul><li><section><h1 id=5893>
    <span class="no">[5893]</span>
    <a class="title" href="#5893">Re2:文字コード誤認識します</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-02-27T21:57:01">2007年02月27日 21:57</time></h1>
    <div class="body">▼ OCYAさん<br>&gt; 再度開くと、文字コード認識ダイアログが出るのですが、このファイルをコピー（CTL+C）したものは強制的にEUCで開かれるようです。<br><br>コピーして作った新しいファイルは、履歴に何も無いので、自動認識が選んだ文字コードになります。<br>そういう事じゃないのかな。<br>一度開いたファイルは文字コードが履歴に記録されます。（上限有り）</div></section>
    </li></ul></li><li><section><h1 id=5949>
    <span class="no">[5949]</span>
    <a class="title" href="#5949">Re:文字コード誤認識します</a>
    <span class="author">wakura</span>
    <time datetime="2007-03-18T21:49:07">2007年03月18日 21:49</time></h1>
    <div class="body">テキストエディタ初<br><br>「ベイズ理論による文字コード識別機能を搭載」<br><br>なんてどうかなぁ</div></section>
    <ul><li><section><h1 id=5950>
    <span class="no">[5950]</span>
    <a class="title" href="#5950">Re2:文字コード誤認識します</a>
    <span class="author">げんた</span>
    <time datetime="2007-03-18T22:08:46">2007年03月18日 22:08</time></h1>
    <div class="body">&gt;「ベイズ理論による文字コード識別機能を搭載」<br>アイディアは面白そう．<br>気になる点1: 学習辞書を作る必要がある<br>→FDやUSB Memoryに入れて使う人以外は特に問題にならないかな？OptionにすればOKか．<br><br>気になる点2: 文字単体ではなく，バイト列の並びによって辞書を作る必要があると思うのですが，文字コードがわからないのにどうやって辞書を作ればよいのでしょう？ 1バイトずつずらしてNバイトのバイト列を取り，それを全部学習＆判定に使う？<br><br>SHIFT-JISとEUCのどちらともとれるような場合には学習による判定も使えそうですけど，どのくらい役に立つのかなぁ．<br></div></section>
    <ul><li><section><h1 id=5951>
    <span class="no">[5951]</span>
    <a class="title" href="#5951">Re3:文字コード誤認識します</a>
    <span class="author">hideto</span>
    <time datetime="2007-03-19T10:48:50">2007年03月19日 10:48</time></h1>
    <div class="body"> &gt;「ベイズ理論による文字コード識別機能を搭載」<br>&gt; アイディアは面白そう．<br>&gt; 気になる点1: 学習辞書を作る必要がある<br>&gt; →FDやUSB Memoryに入れて使う人以外は特に問題にならないかな？OptionにすればOKか．<br><br>Optionついでに、辞書をネット化、更新取得は適度に、と言ってみるテスト（ぉ</div></section>
    </li></ul></li></ul></li></ul></li></ul></body></html>