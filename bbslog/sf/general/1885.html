<!DOCTYPE html><html><head><meta charset='utf-8'><title>うーん、保存が遅いかもしれない・・・？</title><link rel='stylesheet' href='bbs.css' /><script src='bbs.js'></script><body><ul class="side"><a href="./" class="toindex">←一般トップへ</a><li><div class="list-title">
    <span class="no">1885</span>
    <a class="title" href="1885.html#1885">うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1886</span>
    <a class="title" href="1885.html#1886">Re: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1888</span>
    <a class="title" href="1885.html#1888">Re2: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1889</span>
    <a class="title" href="1885.html#1889">Re3: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1890</span>
    <a class="title" href="1885.html#1890">Re4: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1897</span>
    <a class="title" href="1885.html#1897">VSSの使い方？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1901</span>
    <a class="title" href="1885.html#1901">Re:VSSの使い方？</a></div>
    </li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">1903</span>
    <a class="title" href="1885.html#1903">Re3: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1904</span>
    <a class="title" href="1885.html#1904">Re4: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1905</span>
    <a class="title" href="1885.html#1905">Re5: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1913</span>
    <a class="title" href="1885.html#1913">Re6: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1915</span>
    <a class="title" href="1885.html#1915">Re7: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1918</span>
    <a class="title" href="1885.html#1918">Re8: うーん、保存が遅いかもしれない・・・？</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">1922</span>
    <a class="title" href="1885.html#1922">Re7: うーん、保存が遅いかもしれない・・・？</a></div>
    <ul><li><div class="list-title">
    <span class="no">1927</span>
    <a class="title" href="1885.html#1927">Re8: うーん、保存が遅いかもしれない・・・？</a></div>
    </li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">1968</span>
    <a class="title" href="1885.html#1968">Re5: うーん、保存が遅いかもしれない・・・？</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><ul class="main"><li><section><h1 id=1885>
    <span class="no">[1885]</span>
    <a class="title" href="#1885">うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">Youma</span>
    <time datetime="2002-05-21T22:04:11">2002年05月21日 22:04</time></h1>
    <div class="body">どうも、Youmaです。<br><br>私の環境だけかもしれないのですが、<br>Sakuraの文書保存速度がちっとばっかし遅い気がします。<br><br>メモ帳に保存速度で負けるのは仕方ないっすが、<br>Visual Studio .netなんて糞重たいエディタにも<br>保存速度で負けててちょっとショック（TT)<br><br>レスポンス的にはSakuraで全角文字３個程度を編集した際、<br>CTRL+S等で上書き保存した時、下手すると５秒～１０秒掛かる。<br>…早くても１秒。<br><br>これが、メモ帳/VS.netだと、計測出来ない速度。<br>（メモ帳が当然ながら最速。VS.NET等も1秒は掛からない。）<br><br>…まぁ、保存先が悪いってのが大きな要因だとは思いますが。<br><br>（ネットワークドライブの割り当て…で出来ている<br>　LAN上の別マシンに保存する際に、保存速度の差が顕著に現れます）<br><br>癖で、ちょくちょく上書き保存してしまう性質なので、<br>この数秒間のロスがちっと痛い（TT)<br><br>…で、質問です。<br>現在、SAKURA Var 1.3.1.4を使っていますが、<br>保存時のレスポンス向上に必要な設定とかってありませんか？<br><br>○とりあえず、バックアップの作成というオプションは切りました。<br>（以前、複数世代のバックアップ作成してたら、酷い事になったので（当然ですが）<br>　最終的に落ち着いた設定はゴミ箱へ直行/一世代のみ（.BAK)　でした。<br>　現在はそれもOFFにしていますが、これは怖いので取っておきたい --;）<br><br>他に、保存時のレスポンスに関係しそうな設定項目が思いつかなくて…<br><br>よろしく、ご教授お願いいたします。</div></section>
    <ul><li><section><h1 id=1886>
    <span class="no">[1886]</span>
    <a class="title" href="#1886">Re: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">げんた</span>
    <time datetime="2002-05-21T22:24:18">2002年05月21日 22:24</time></h1>
    <div class="body">&gt;私の環境だけかもしれないのですが、<br>&gt;Sakuraの文書保存速度がちっとばっかし遅い気がします。<br>先日、隠しファイルとシステムファイルの編集を行えるようにするために<br>* 属性変更<br>* ファイルの書き込み<br>* 属性戻す<br>の3ステップを行うように変更されたのですが、属性変更に時間がかかっているのかもしれませんね。<br></div></section>
    <ul><li><section><h1 id=1888>
    <span class="no">[1888]</span>
    <a class="title" href="#1888">Re2: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">こおり</span>
    <time datetime="2002-05-22T05:00:45">2002年05月22日 05:00</time></h1>
    <div class="body">こんばんは。<br><br>&gt; 先日、隠しファイルとシステムファイルの編集を行えるようにするために<br>&gt; * 属性変更<br>&gt; * ファイルの書き込み<br>&gt; * 属性戻す<br>&gt; の3ステップを行うように変更されたのですが、属性変更に時間がかかっているのかもしれませんね。<br>これって確かAPIを直接使えば属性変更は必要ないけど遅くなる、<br>ということでしたよね。<br><br>だったら、APIと独自のバッファを組み合わせて使えばいいんじゃないかと思い、<br>試しに作ってみました。<br><a href=http://www.egroups.co.jp/files/sakura-editor/Developer/Source/WriteFileByAPI.lzh target=_top><nobr>http://<wbr>www.<wbr>egroups.<wbr>co.<wbr>jp/<wbr>files/<wbr>sakura-<wbr>editor/<wbr>Develope<wbr>r/<wbr>Source/<wbr>WriteFil<wbr>eByAPI.<wbr>lzh</nobr></a><br><br>でも、ほとんど変わっていないような気が....。</div></section>
    <ul><li><section><h1 id=1889>
    <span class="no">[1889]</span>
    <a class="title" href="#1889">Re3: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">げんた</span>
    <time datetime="2002-05-22T06:15:50">2002年05月22日 06:15</time></h1>
    <div class="body">&gt;APIと独自のバッファを組み合わせて使えばいいんじゃないかと思い、<br>とりあえずは、隠し属性やシステム属性がなければ属性変更をSKIPするので十分だと思います。ネットワークドライブにある隠しファイル・システムファイルは遅くてもあきらめてもらう(^^;)。で、相変わらず遅いなら原因は別のところにあることになりますね。<br></div></section>
    <ul><li><section><h1 id=1890>
    <span class="no">[1890]</span>
    <a class="title" href="#1890">Re4: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">Youma</span>
    <time datetime="2002-05-22T10:41:23">2002年05月22日 10:41</time></h1>
    <div class="body">▼ げんたさん<br>&gt; &gt;APIと独自のバッファを組み合わせて使えばいいんじゃないかと思い、<br>&gt; とりあえずは、隠し属性やシステム属性がなければ属性変更をSKIPするので十分だと思います。<br>&gt; ネットワークドライブにある隠しファイル・システムファイルは<br>&gt; 遅くてもあきらめてもらう(^^;)。<br>&gt; で、相変わらず遅いなら原因は別のところにあることになりますね。<br><br>うわぁ～、皆様、いろいろとありがとうございます。<br>早速試しに作っていただいたSAKURAを実行！　と思いきや、<br>C++のソースでした（TT)<br><br>プログラマ一年生とはいえ、コンパイルする環境すらないのが<br>お恥ずかしい限りです。<br><br>情けない話ですが、とりあえず、現状維持で頑張ってみます。<br>…次回リリース時、隠し属性関連が組み込まれてるとうれしいなぁ。<br><br>＜それで遅いなら、本当に私の環境が変なだけかもしれないですが。<br>＜特に、うちの会社はVSSを使ってソース管理してるので<br>＜ファイルに隠し属性等が沢山付いていそうですし…マイクロソフトだし。<br><br>（癖になっている一行書き終えたらCTRL+Sを押す…という<br>　操作を、CTRL+ALT+Sに変更して無意識の上書き保存をしなくしたら<br>　大分、開発速度があがりました（^^;)<br>　&lt;無駄に上書き連発するので大間違いの修正をしたとき、<br>　&lt;その日の途中までの状態に戻せなくて<br>　&lt;酷い目にあってしまうんですよねぇ。<br>　&lt;それも、改善するかも</div></section>
    <ul><li><section><h1 id=1897>
    <span class="no">[1897]</span>
    <a class="title" href="#1897">VSSの使い方？</a>
    <span class="author">げんた</span>
    <time datetime="2002-05-22T18:26:52">2002年05月22日 18:26</time></h1>
    <div class="body">&gt;＜特に、うちの会社はVSSを使ってソース管理してるので<br>VSSでソース管理しているなら、リポジトリだけがネットワークドライブで作業領域はローカルディスクにあるような気がしますが。なんか使い方が変？<br><br>&gt;　&lt;無駄に上書き連発するので大間違いの修正をしたとき、<br>&gt;　&lt;その日の途中までの状態に戻せなくて<br>&gt;　&lt;酷い目にあってしまうんですよねぇ。<br>&gt;　&lt;それも、改善するかも<br>これも、VSSから過去のバージョンを取り出すのが筋かと...個人で勝手にブランチを作ってそこで作業するのは禁止されてるのかな？<br></div></section>
    <ul><li><section><h1 id=1901>
    <span class="no">[1901]</span>
    <a class="title" href="#1901">Re:VSSの使い方？</a>
    <span class="author">Youma</span>
    <time datetime="2002-05-22T19:14:53">2002年05月22日 19:14</time></h1>
    <div class="body">▼ げんたさん<br>&gt; &gt;＜特に、うちの会社はVSSを使ってソース管理してるので<br>&gt; VSSでソース管理しているなら、リポジトリだけがネットワークドライブで作業領域はローカルディスクにあるような気がしますが。なんか使い方が変？<br>&gt; <br>&gt; &gt;　&lt;無駄に上書き連発するので大間違いの修正をしたとき、<br>&gt; &gt;　&lt;その日の途中までの状態に戻せなくて<br>&gt; &gt;　&lt;酷い目にあってしまうんですよねぇ。<br>&gt; &gt;　&lt;それも、改善するかも<br>&gt; これも、VSSから過去のバージョンを取り出すのが筋かと...個人で勝手にブランチを作ってそこで作業するのは禁止されてるのかな？<br><br>ん～、うちは随分変な使い方してると思いますよ（W<br><br>Webの公開用フォルダ（の試験用）　＝　作業フォルダ<br><br>ですもん（W　これだと、作業結果を直でIE等でチェックできるからかな？<br><br>過去のバージョンを取り出し～ってのは私の使い方の粗雑さですね。<br><br>朝：チェックアウト<br>一日中弄りとおし、<br>夜：帰るときにチェックイン<br><br>…なんて事してますんで、朝～夕方あたりまで<br>ずーっと作業してて、ふときづいたら構造的にバグバグに<br>なっちゃった…ってな時、朝の状態までファイルが戻るんですよ。<br>おそらくVSSにはきちんと公開させる為の機能があるのだろうが、<br>うちじゃ、作業フォルダの中身を直接FFFTPで…（－－；）<br>（※そのおかげでVSSの機能の「同期」とかが使えん）<br><br>ま、そんな訳でファイルの保存先がLAN越しになっちゃうんですよねぇ。<br><br>運用的にも問題がありありですねぇ。　自分で鯖立てて其処で開発ってのも<br>他のソースとの絡みで難しそうだし…<br>作業中の保存だけ早くする方法ってないかなぁ？<br><br>（SAKURAと同時期にOS自体をXPに変えた為って気がしないでもない。<br>　時折、LAN等関係なしに、一瞬フリーズっぽい状況に陥る気がします。＜XP）<br></div></section>
    </li></ul></li></ul></li></ul></li><li><section><h1 id=1903>
    <span class="no">[1903]</span>
    <a class="title" href="#1903">Re3: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">すい</span>
    <time datetime="2002-05-22T21:55:57">2002年05月22日 21:55</time></h1>
    <div class="body">&gt;http://www.egroups.co.jp/files/sakura-editor/Developer/Source/WriteFileByAPI.lzh<br>&gt;<br>&gt;でも、ほとんど変わっていないような気が....。<br><br>ファイルを close する直前にバッファの Flush をやっていますが、コレ、意味無いのでは？<br><br>というか、ファイル書き込み後にバッファ Flush をネットワーク上で実行するとトラブルが出る事があるらしひので積極的にやめる方向で(笑)お願ひ。m(_ _)m<br>↓Jp288794 参照<br>http://www.microsoft.com/japan/support/faq/KBArticles2.asp?URL=/japan/support/kb/articles/jp288/7/94.asp<br><br>他の人が後々追加したりしないように注釈文も入れておくと、なおgood。<br>オリジナルの方でも fflush(); とかやってますね。これ取るだけでどう？（変らん可能性大）<br></div></section>
    <ul><li><section><h1 id=1904>
    <span class="no">[1904]</span>
    <a class="title" href="#1904">Re4: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">こおり</span>
    <time datetime="2002-05-23T01:12:43">2002年05月23日 01:12</time></h1>
    <div class="body">&gt; オリジナルの方でも fflush(); とかやってますね。これ取るだけでどう？（変らん可能性大）<br>おおっ！！<br>fflushを取ってみたら、今まで一秒ぐらいかかっていた小さなファイルの保存が一瞬でできるようになりました。<br><br>それにしても、fflushにこんな問題があるとは....。<br>勉強になりました。<br><br>ちなみに、そのソースと実行ファイルです。↓<br><a href=http://www.egroups.co.jp/files/sakura-editor/Developer/Source/no_fflush.lzh target=_top><nobr>http://<wbr>www.<wbr>egroups.<wbr>co.<wbr>jp/<wbr>files/<wbr>sakura-<wbr>editor/<wbr>Develope<wbr>r/<wbr>Source/<wbr>no_fflus<wbr>h.<wbr>lzh</nobr></a><br><a href=http://www.egroups.co.jp/files/sakura-editor/Developer/Source/no_fflush_exe.lzh target=_top><nobr>http://<wbr>www.<wbr>egroups.<wbr>co.<wbr>jp/<wbr>files/<wbr>sakura-<wbr>editor/<wbr>Develope<wbr>r/<wbr>Source/<wbr>no_fflus<wbr>h_exe.<wbr>lzh</nobr></a></div></section>
    <ul><li><section><h1 id=1905>
    <span class="no">[1905]</span>
    <a class="title" href="#1905">Re5: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">Youma</span>
    <time datetime="2002-05-23T10:08:47">2002年05月23日 10:08</time></h1>
    <div class="body">▼ こおりさん<br><br>おお！　exeだぁ～。　という事で早速実行して見ました。<br>ネット越しだと、まだもたつきがあるけど、<br>当社比１．５倍程早くなったような気がしませう。<br><br>ローカルフォルダに対する保存速度はさらに速くなって<br>人間の感覚ではメモ帳との違いがわかりませんです♪<br><br>LAN上への保存は…、これはOSを変えてから急に浮上した<br>（今まで気が付か（しな）なかったからなぁ。）<br>気もするんでどっか、そこらへんに実問題があるかもと、<br>ちょっと調べてみようかと。（といっても、Win２ｋマシンに<br>SAKURA乗せてチェックするだけだけど。）</div></section>
    <ul><li><section><h1 id=1913>
    <span class="no">[1913]</span>
    <a class="title" href="#1913">Re6: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">すい</span>
    <time datetime="2002-05-23T20:16:25">2002年05月23日 20:16</time></h1>
    <div class="body">▼ こおりさん<br>&gt;fflushを取ってみたら、今まで一秒ぐらいかかっていた小さなファイルの保存が一瞬でできるようになりました。<br>あらま。それはラッキーです。:-)<br>fflush の説明読むと、あたかも「fflush 実行時点でディスクに書き込みが行われる」ような誤解を受けるけど、実際にはいくら fflush を実行してもディスクに対する書き込みの類は全く行われない関数なのでディスク書き込み処理時に使うだけ無駄なわけで、その上に OS によってはデッドロックを引き起こす致命的バグがあるとなるとますます使いたくない 1000害あって1利無しの関数だから削除して欲しかったのですが（長い(^^;）、結果からすると何か中（メモリ上）で余計な事を一生懸命ゴニョゴニョやってるんですね。:-P<br><br>でも<br>▼ Youmaさん<br>&gt;当社比１．５倍程<br>って事は、まだ VS.NET とかに負けてる？って事でしょうか？<br>あとは、やっぱり げんたさん がおっしゃるように属性変更がらみ？確かにネットワーク経由だと、ちょいと時間喰う処理かと。<br>WriteFile 中での GetFileAttributes , SetFileAttributes の回数を減らす工夫をして見るとか。<br><br>・GetFileAttributes って先頭で１回実行するだけで、あとは取得値を使い回すんじゃダメ？（私はダメかどうかわからないもので）<br>・SetFileAttributes も dwFileAttribute の値を見て、必要がある場合（隠し属性の場合とか）のみ実行する。<br><br>通常属性の場合：先頭で GetFileAttributes を１回実行するのみ。<br>隠し属性の場合：↑の他、必要箇所で SetFileAttributes を実施。<br>をとりあえずの目標に。<br>↓あくまでイメージですが。（試していません。このままじゃマズいかも。m(_ _)m）<br>◎843行<br>// ファイル属性を取得する。<br>DWORD dwFileAttribute;<br>dwFileAttribute = ::GetFileAttributes(pszPath);<br>if ( dwFileAttribute == (DWORD)-1 ){<br>  dwFileAttribute = FILE_ATTRIBUTE_NORMAL;    //@@@ 2002.04.15 MIK<br>}<br>else{<br>  if ( dwFileAttribute &amp; (FILE_ATTRIBUTE_HIDDEN|FILE_ATTRIBUTE_SY<br>STEM) ){<br>    // 読取専用属性だけ残す(ノーマル属性が付いていたらそれも残す)。<br>    ::SetFileAttributes(pszPath, dwFileAttribute &amp; (FILE_ATTRIBUTE_READONLY|FILE_ATTRIBUTE_<br>NORMAL));<br>  }<br>}<br>＜＜＜中略＞＞＞<br>◎881行。<br>書き込みエラー時の処理だから、ここは保存速度に影響しないはずなので変更無し。ただ、現状でも先頭の方で dwFileAttribute == -1 なら dwFileAttribute = FILE_ATTRIBUTE_NORMAL; しているから、ここの if 判定は無駄。スッキリさせとく。<br>//&lt;&lt; 2002/04/13 Azumaiya<br>// ファイル属性を元に戻す。<br>::SetFileAttributes(pszPath, dwFileAttribute);<br>＜＜＜中略＞＞＞<br>◎1038行。書き込み完了後の処理<br>//fflush( sFile );/* add */ // 速度低下する＆環境によってはデッドロックするから削除<br>fclose( sFile );/* add */<br>//&lt;&lt; 2002/04/13 Azumaiya<br>// ファイル属性を元に戻す。<br>if ( dwFileAttribute &amp; (FILE_ATTRIBUTE_HIDDEN|FILE_ATTRIBUTE_SY<br>STEM) ){<br>  ::SetFileAttributes(pszPath, dwFileAttribute);<br>}<br>//&gt;&gt; 2002/04/13 Azumaiya<br>　　＜略＞<br>↓削除<br>// dwFileAttribute = ::GetFileAttributes(pszPath);<br>// if ( dwFileAttribute == (DWORD)-1 )<br>// {<br>//    dwFileAttribute = FILE_ATTRIBUTE_NORMAL;<br>// }<br><br>どおでしょ？<br></div></section>
    <ul><li><section><h1 id=1915>
    <span class="no">[1915]</span>
    <a class="title" href="#1915">Re7: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">すい</span>
    <time datetime="2002-05-23T20:33:39">2002年05月23日 20:33</time></h1>
    <div class="body">&gt;あとは、やっぱり げんたさん がおっしゃるように属性変更がらみ？確かにネットワーク経由だと、ちょいと時間喰う処理かと。<br>&gt;WriteFile 中での GetFileAttributes , SetFileAttributes の回数を減らす工夫をして見るとか。<br>あらま。今、こおりさん の新しいソースをダウンロードしてみたのですが既に↑と同等の事はやってるんですね。<br>って事は．．．？もう限界？ :-)<br>後は何でしょ。<br></div></section>
    <ul><li><section><h1 id=1918>
    <span class="no">[1918]</span>
    <a class="title" href="#1918">Re8: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">Youma</span>
    <time datetime="2002-05-24T10:01:32">2002年05月24日 10:01</time></h1>
    <div class="body">▼ すいさん<br>&gt; &gt;あとは、やっぱり げんたさん がおっしゃるように属性変更がらみ？確かにネットワーク経由だと、ちょいと時間喰う処理かと。<br>&gt; &gt;WriteFile 中での GetFileAttributes , SetFileAttributes の回数を減らす工夫をして見るとか。<br>&gt; あらま。今、こおりさん の新しいソースをダウンロードしてみたのですが既に↑と同等の事はやってるんですね。<br>&gt; って事は．．．？もう限界？ :-)<br>&gt; 後は何でしょ。<br><br>うーん、何なんでしょう？<br>とりあえず、ローカル環境への保存は、メモ帳程ではないけど、<br>VS.NET等よりは、軽快な感じになりました。<br>（保存時の速度差は計測出来ないので、全体的に勝ってます）<br><br>…ネットワーク越しだと、やっぱ、勝負にならないですねぇ（TT)<br>秒単位で時間が掛かっているようです。<br><br>仕事の合間を見て（隙を見て？？）Win2000マシンに<br>SAKURAをぶちこんで（Serverマシンだったりする（－－；））<br>LAN越しの速度差を調べてみます。<br>…ので、結果は少々お待ちください。（ペコリ）<br><br>…WIN2000にて、問題がなかったとすると、XPのLANは、<br>デフォルトの設定（LANはXP任せで設定したので）だと、<br>遅い…と、暫定的に決め付けてしまおうかなぁ。<br>（その辺のハード系の設定は全然わからんのでお手上げです）</div></section>
    </li></ul></li><li><section><h1 id=1922>
    <span class="no">[1922]</span>
    <a class="title" href="#1922">Re7: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">みく</span>
    <time datetime="2002-05-24T18:37:37">2002年05月24日 18:37</time></h1>
    <div class="body"><br>&gt;WriteFile 中での GetFileAttributes , SetFileAttributes の回数を減らす工夫をして見るとか。<br><br>ファイルクローズ後、タイムスタンプを取得するために<br>ファイルを再オープンするのですが、このとき<br>GetFileAttributesを実行してます。<br>これは最初に実行したGetFileAttributesと同じはずな<br>のでCWriteFileクラスからdwFileAttributeを取得でき<br>るようにすればよいのではないでしょうか。<br>(新規ファイルのときはNORMALにする必要ありですが)<br></div></section>
    <ul><li><section><h1 id=1927>
    <span class="no">[1927]</span>
    <a class="title" href="#1927">Re8: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">こおり</span>
    <time datetime="2002-05-24T23:02:15">2002年05月24日 23:02</time></h1>
    <div class="body">なるほど、と思って改めてソースを見たのですが、これって属性を取得する必要があるんでしょうか？<br><br>MSDNライブラリのCreateFileの説明には<br><br>既存のファイルを開く場合、<br>&amp;#8226;dwFlagsAndAttributes パラメータで指定されたフラグに、既存のファイルの属性を組み合わせます。<br><br>と書いてあるので、CreateFileの引数にはFILE_ATTRIBUTE_NORMALを指定すれば十分なような気がするのです。<br>試しに隠し属性をつけたファイルを保存してみても、属性を変更してしまうことはありませんでした。</div></section>
    </li></ul></li></ul></li></ul></li><li><section><h1 id=1968>
    <span class="no">[1968]</span>
    <a class="title" href="#1968">Re5: うーん、保存が遅いかもしれない・・・？</a>
    <span class="author">やざき</span>
    <time datetime="2002-06-04T21:51:16">2002年06月04日 21:51</time></h1>
    <div class="body"><br>&gt;ちなみに、そのソースと実行ファイルです。↓<br>&gt;http://www.egroups.co.jp/files/sakura-editor/Developer/Source/no_fflush.lzh<br>&gt;http://www.egroups.co.jp/files/sakura-editor/Developer/Source/no_fflush_exe.lzh<br><br>こいつを取り込みましたー。<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></body></html>