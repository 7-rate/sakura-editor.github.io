<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-120820034-1');
  </script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="favicon.ico">
  <title>GREP結果からのタグジャンプでの不具合 | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">5052</span>
    <a class="thread-title" href="5052.html#5052">GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5053</span>
    <a class="thread-title" href="5052.html#5053">Re:GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5054</span>
    <a class="thread-title" href="5052.html#5054">Re2:GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5055</span>
    <a class="thread-title" href="5052.html#5055">Re3:GREP結果からのタグジャンプでの不具合</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5056</span>
    <a class="thread-title" href="5052.html#5056">Re:GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5057</span>
    <a class="thread-title" href="5052.html#5057">Re2:GREP結果からのタグジャンプでの不具合</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5060</span>
    <a class="thread-title" href="5052.html#5060">RE: GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5061</span>
    <a class="thread-title" href="5052.html#5061">Re2: GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5062</span>
    <a class="thread-title" href="5052.html#5062">Re3: GREP結果からのタグジャンプでの不具合</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5064</span>
    <a class="thread-title" href="5052.html#5064">RE2: GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5065</span>
    <a class="thread-title" href="5052.html#5065">RE3: GREP結果からのタグジャンプでの不具合</a></div>
    <ul><li><div class="list-title">
    <span class="no">5072</span>
    <a class="thread-title" href="5052.html#5072">RE4: GREP結果からのタグジャンプでの不具合</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5067</span>
    <a class="thread-title" href="5052.html#5067">Re2: GREP結果からのタグジャンプでの不具合</a></div>
    </li></ul></li></ul></li>
    </ul><ul class="main"><li><section><h1 id=5052>
    <span class="no">[5052]</span>
    <a class="thread-title" href="#5052">GREP結果からのタグジャンプでの不具合</a>
    <span class="author">ゼロ</span>
    <time datetime="2007-09-24T00:03:56">2007年09月24日 00:03</time></h1>
    <div class="body">はじめまして。<br>ユーザとして利用させて頂いております。<br><br>GREP結果からのタグジャンプで不具合がありました。<br><br>条件は以下の通りです。<br>1.C:\Documents というファイルがある。<br>2.デスクトップのファイルをGREP。<br>3.GREP結果↓をダブルクリックする。<br>■"C:\Documents and Settings\ZERO\デスクトップ\test.txt"  [SJIS]<br>4.C:\Documentsが開く。<br><br>宜しくお願いします。<br><br>OS:XP HOME SP2<br>Sakura:Ver. 1.5.15.3(V1310)</div></section>
    <ul><li><section><h1 id=5053>
    <span class="no">[5053]</span>
    <a class="thread-title" href="#5053">Re:GREP結果からのタグジャンプでの不具合</a>
    <span class="author">お助け1号</span>
    <time datetime="2007-09-24T07:07:35">2007年09月24日 07:07</time></h1>
    <div class="body">サクラは無罪。<br>関連付けの設定を間違ってるに一票</div></section>
    <ul><li><section><h1 id=5054>
    <span class="no">[5054]</span>
    <a class="thread-title" href="#5054">Re2:GREP結果からのタグジャンプでの不具合</a>
    <span class="author">ゼロ</span>
    <time datetime="2007-09-24T09:52:49">2007年09月24日 09:52</time></h1>
    <div class="body">お助け1号さん<br><br>ご回答ありがとうございます。<br><br>&gt; 関連付けの設定を間違ってるに一票<br>具体的に関連付けのどの点に不備があるのかご教示いただけますと助かります。<br></div></section>
    <ul><li><section><h1 id=5055>
    <span class="no">[5055]</span>
    <a class="thread-title" href="#5055">Re3:GREP結果からのタグジャンプでの不具合</a>
    <span class="author">ゼロ</span>
    <time datetime="2007-09-24T12:24:49">2007年09月24日 12:24</time></h1>
    <div class="body">関連付けということで"txt"の関連付けをチェックしました。<br><br>open<br>C:\WINDOWS\system32\NOTEPAD.EXE %1<br><br>これを念のため以下のように変えてみましたが、事象は変わりませんでした。<br>C:\WINDOWS\system32\NOTEPAD.EXE "%1"<br><br>関連付けはこれとは別のことでしょうか？<br><br>※ちなみにSakuraは、どの拡張子にも関連付けていません。<br></div></section>
    </li></ul></li></ul></li><li><section><h1 id=5056>
    <span class="no">[5056]</span>
    <a class="thread-title" href="#5056">Re:GREP結果からのタグジャンプでの不具合</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-09-24T14:32:42">2007年09月24日 14:32</time></h1>
    <div class="body">&gt; 1.C:\Documents というファイルがある。<br><br>他には、フォルダ名に空白が入っていてば全部。<br>C:\Documents and というファイルがある。<br>C:\Program というファイルがある。<br>C:\Documents and Settings\ZERO\My というファイルがある。<br><br>「フォルダ」という種類のファイルに変更するしか今のところ無いですね。</div></section>
    <ul><li><section><h1 id=5057>
    <span class="no">[5057]</span>
    <a class="thread-title" href="#5057">Re2:GREP結果からのタグジャンプでの不具合</a>
    <span class="author">ゼロ</span>
    <time datetime="2007-09-24T14:57:12">2007年09月24日 14:57</time></h1>
    <div class="body">▼ じゅうじさん<br>&gt; 他には、フォルダ名に空白が入っていてば全部。<br>&gt; C:\Documents and というファイルがある。<br>&gt; C:\Program というファイルがある。<br>&gt; C:\Documents and Settings\ZERO\My というファイルがある。<br>&gt; <br>&gt; 「フォルダ」という種類のファイルに変更するしか今のところ無いですね。<br><br>そのようです。ありがとうございます。<br>実運用上問題はありません。そのファイル自体がオペミスで作られていた必要のないファイルでしたので一応報告させて頂きました。<br></div></section>
    </li></ul></li><li><section><h1 id=5060>
    <span class="no">[5060]</span>
    <a class="thread-title" href="#5060">RE: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-24T20:50:53">2007年09月24日 20:50</time></h1>
    <div class="body">&gt;■"C:\Documents and Settings\ZERO\デスクトップ\test.txt"  [SJIS]<br>&gt;4.C:\Documentsが開く。<br>たぶん，こういう仕様です．(今のところ)<br>Grepではできるだけ様々な書き方(コンパイラの出力を取り込んだもの等)に対応するために，ファイル名「らしき」ところを見つけてジャンプを試みます．その際，ファイルが実在するかどうかを判定基準として使っているために，このようなことも起こります．<br>ただ，現在は少しずつ調べて最初に見つかった物を優先しますが，最長一致にすることでより直感に近い動作にすることはできるのかなと思います．<br><br>▼じゅうじさん<br>&gt;「フォルダ」という種類のファイルに変更する<br>これはどういう意味でしょう？<br></div></section>
    <ul><li><section><h1 id=5061>
    <span class="no">[5061]</span>
    <a class="thread-title" href="#5061">Re2: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-09-24T22:46:37">2007年09月24日 22:46</time></h1>
    <div class="body">▼ げんたさん<br>ファイル名の後ろに括弧が有る場合、最長一致でも、完全には無理です。<br>aaa.txt(2,3)<br><br>&gt;「フォルダ」という種類のファイルに変更する<br>フォルダーならば、エディタで開かれ無くなります。</div></section>
    <ul><li><section><h1 id=5062>
    <span class="no">[5062]</span>
    <a class="thread-title" href="#5062">Re3: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-24T22:56:00">2007年09月24日 22:56</time></h1>
    <div class="body">&gt;ファイル名の後ろに括弧が有る場合、最長一致でも、完全には無理です。<br>&gt;aaa.txt(2,3)<br>確かに．<br><br>&gt;&gt;「フォルダ」という種類のファイルに変更する<br>&gt;フォルダーならば、エディタで開かれ無くなります。<br>いや，フォルダであってファイルでもあるものとは？(禅問答？)<br>このようなことが可能であるならば変更手順を教えてください．<br></div></section>
    </li></ul></li><li><section><h1 id=5064>
    <span class="no">[5064]</span>
    <a class="thread-title" href="#5064">RE2: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">すい</span>
    <time datetime="2007-09-24T23:02:06">2007年09月24日 23:02</time></h1>
    <div class="body">ちょっと意外だった（そこまで手抜きなの？）ので追っかけてみましたが、<br>たしかにそうなっていますね。<br><br>ssrc_2007-07-08\sakura_core\etc_uty.cpp 1365行<br>bool IsFilePath()<br><br>文字列の前方からファイルパスと、後方に続くその他の文字列との区切りを探していますね。<br>これでは こういう問題がでるのも当然かと。<br><br>私が過去にコマンドライン文字列中から先頭部分の実在するファイルパスを<br>抜き出す MY_SP.C なんかは、区切り位置を後方から判別しています。<br># つまり「最長一致」<br>そうしなければ、こういう問題が出るのは明らかでしたから。<br><br>↑これ流用したりしたら、もう少しまともな物になりませんか？<br># 何か他の問題が出ます？<br></div></section>
    <ul><li><section><h1 id=5065>
    <span class="no">[5065]</span>
    <a class="thread-title" href="#5065">RE3: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-24T23:44:59">2007年09月24日 23:44</time></h1>
    <div class="body">&gt;ちょっと意外だった（そこまで手抜きなの？）ので追っかけてみましたが、<br>&gt;たしかにそうなっていますね。<br>「上の文字がSJIS2バイトコードの2バイト目でないことを、1つ前の文字がSJIS2バイトコードの1バイト目でないことで判断する」なんてコメントからも怪しさが漂ってきます(T_T)<br><br>&gt;私が過去にコマンドライン文字列中から先頭部分の実在するファイルパスを<br>&gt;抜き出す MY_SP.C なんかは、区切り位置を後方から判別しています。<br>&gt;↑これ流用したりしたら、もう少しまともな物になりませんか？<br>GetExistPath()を使って書き直すべきかも．<br><br>ところで，MY_SP.Cに入っているmy_splitpath()って何故か限られた場所でしか使われていないのですね．<br></div></section>
    <ul><li><section><h1 id=5072>
    <span class="no">[5072]</span>
    <a class="thread-title" href="#5072">RE4: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">すい</span>
    <time datetime="2007-09-27T23:48:02">2007年09月27日 23:48</time></h1>
    <div class="body">ファイルパスの後方(→)の区切りを探す処理部分を書いてみました。<br>大雑把ですが、こんな感じでどうでしょうか？と。<br><br>http://groups.yahoo.co.jp/group/sakura-editor/files/Developer/Source/<br>└→ SPLIT_FP.CAB&#9;タグジャンプ用ファイルパス分離<br><br># あくまで後方のみです。前方の処理は今まで通りの処理にお任せという事で、<br># 含んでいません。<br><br>4個の汎用的に使える関数(sjis_strrchr/sjis_strchr/sjis_strrchrs/sjis_strchrs)を用意しました。<br>そして、それ等を使用して、<br><br>1. ファイルパスには絶対含まれ得ない、最も前方の文字を見つけ出し、そこで文字列をカット。<br><br>2. '/' → '\' に全て置換（サクラエディタ内では要らない？かも）<br><br>3. 最も最後方の「ファイルパス」と「他の文字列」との区切りになり得る文字を見つけ出し、<br>　 順にカットしながらファイルの有無を確認していく。<br><br>という処理を実行します。<br># 結構簡単な記述になっていると思います。<br><br>テストで使用したのが LSI-C だったのでファイル有無の判定を access で<br>やっちゃってますが、サクラエディタに組み込む場合には IsFileExists<br>にでも変更してもらうとして。<br></div></section>
    </li></ul></li></ul></li><li><section><h1 id=5067>
    <span class="no">[5067]</span>
    <a class="thread-title" href="#5067">Re2: GREP結果からのタグジャンプでの不具合</a>
    <span class="author">神楽</span>
    <time datetime="2007-09-25T08:18:52">2007年09月25日 08:18</time></h1>
    <div class="body">▼ げんたさん<br>&gt; &gt;■"C:\Documents and Settings\ZERO\デスクトップ\test.txt"  [SJIS]<br>&gt; &gt;4.C:\Documentsが開く。<br>&gt; たぶん，こういう仕様です．(今のところ)<br>&gt; Grepではできるだけ様々な書き方(コンパイラの出力を取り込んだもの等)に対応するために，ファイル名「らしき」ところを見つけてジャンプを試みます．その際，ファイルが実在するかどうかを判定基準として使っているために，このようなことも起こります．<br>&gt; ただ，現在は少しずつ調べて最初に見つかった物を優先しますが，最長一致にすることでより直感に近い動作にすることはできるのかなと思います．<br>文字列条件にあうファイルが複数存在した場合には、<br>サブウインドウ等で複数候補の中から選択させるみたいなことはできないでしょうか？</div></section>
    </li></ul></li></ul></li></ul></body></html>