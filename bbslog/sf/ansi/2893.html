<!DOCTYPE html><html><head><meta charset='utf-8'><title>そろそろ取り込み</title><link rel='stylesheet' href='bbs.css' /><script src='bbs.js'></script><body><ul class="side"><a href="./" class="toindex">←ansiトップへ</a><li><div class="list-title">
    <span class="no">2893</span>
    <a class="title" href="2893.html#2893">そろそろ取り込み</a></div>
    <ul><li><div class="list-title">
    <span class="no">2895</span>
    <a class="title" href="2893.html#2895">Re: そろそろ取り込み</a></div>
    <ul><li><div class="list-title">
    <span class="no">2897</span>
    <a class="title" href="2893.html#2897">Re2: そろそろ取り込み</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">2901</span>
    <a class="title" href="2893.html#2901">RE: そろそろ取り込み</a></div>
    </li><li><div class="list-title">
    <span class="no">2904</span>
    <a class="title" href="2893.html#2904">Re: そろそろ取り込み</a></div>
    </li><li><div class="list-title">
    <span class="no">2907</span>
    <a class="title" href="2893.html#2907">マージの前に:</a></div>
    <ul><li><div class="list-title">
    <span class="no">2912</span>
    <a class="title" href="2893.html#2912">RE: マージの前に:</a></div>
    <ul><li><div class="list-title">
    <span class="no">2928</span>
    <a class="title" href="2893.html#2928">仮マージ完了</a></div>
    <ul><li><div class="list-title">
    <span class="no">2934</span>
    <a class="title" href="2893.html#2934">RE: 仮マージ完了</a></div>
    <ul><li><div class="list-title">
    <span class="no">2936</span>
    <a class="title" href="2893.html#2936">Re2: 仮マージ完了</a></div>
    </li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">2908</span>
    <a class="title" href="2893.html#2908">マージの前に:1</a></div>
    <ul><li><div class="list-title">
    <span class="no">2922</span>
    <a class="title" href="2893.html#2922">Re: マージの前に:1</a></div>
    <ul><li><div class="list-title">
    <span class="no">2951</span>
    <a class="title" href="2893.html#2951">Re2: マージの前に:1</a></div>
    </li></ul></li></ul></li></ul></li></ul><ul class="main"><li><section><h1 id=2893>
    <span class="no">[2893]</span>
    <a class="title" href="#2893">そろそろ取り込み</a>
    <span class="author">すい</span>
    <time datetime="2003-06-26T02:27:47">2003年06月26日 02:27</time></h1>
    <div class="body">そろそろ取り込んでみてはどうでしょうか、と言ってみる。<br>大分落ち着きましたし。<br><br>◎ みくさん http://www.geocities.co.jp/SiliconValley-SanJose/3299/<br><br>★ タブ(もどき)<br>　正直、なんか初めのうちは 実験だけかな？ とか思っていたのですけど、<br>　動作がちょっとおかしい所とかをちょこちょこ修正していくうちに、<br>　なんだかとっても本格的にそれっぽい雰囲気になってきて、、、<br>　万一、このまま消えちゃったりしたら勿体無いな～、と。<br><br>◎ もかさん http://www.geocities.co.jp/SiliconValley-Oakland/6358/<br><br>★ 動的補完機能<br>　 編集中のファイル中の単語も入力補完の候補として現れるように設定できる。<br>　 プログラミング時に自分で定義した変数名/関数名の補完などに．．．<br><br>★ 持ち歩き向け<br>　 各設定中で相対パス指定 *も* 可能になる。<br><br>★ 入力改行コード指定<br>　 改行時の改行コードをメニューやツールバーから設定可能に。<br><br>★ マクロ拡張<br>　 マクロの機能追加。<br><br>#「Grepプレビュー版」は、もう取り込み済みなんですよね。<br><br>「持ち歩き向け」だけ最新版はまだバイナリが入手できないので未確認ですが、<br>その前の版では特に問題は見つからなかったですし。。。<br>最後の修正でチョンボが無い事を祈りつつ(笑)<br><br>変更箇所の衝突は、、、私が知っている範囲では、「タブ」と「入力改行コード指定」が<br>共にツールバー（画像）の変更あり、くらいで、後は．．．(;^^Ａ<br></div></section>
    <ul><li><section><h1 id=2895>
    <span class="no">[2895]</span>
    <a class="title" href="#2895">Re: そろそろ取り込み</a>
    <span class="author">げんた</span>
    <time datetime="2003-06-26T02:47:58">2003年06月26日 02:47</time></h1>
    <div class="body">&gt;そろそろ取り込んでみてはどうでしょうか、と言ってみる。<br>&gt;大分落ち着きましたし。<br>そのようですね．といいつつ，全然中身見てなかったりして...<br>でも，すいさんが大丈夫って言うなら大丈夫でしょう:D<br><br>最近私の周りではWindows 95/98/NTあたりが死滅しかかっているので複数環境で丁寧に動作確認して頂ける方は非常に貴重です．はい．<br>どこかからPC調達して初代Win95やWin98を動作確認用にインストールとか本気でやりたいくらい．<br><br>--<br>ところで両方いっぺんに取り込んでうまくいくだろうか...<br><br>&gt;★ タブ(もどき)<br><br>&gt;◎ もかさん http://www.geocities.co.jp/SiliconValley-Oakland/6358/<br>こっちはMix版が出るんでしょうか？<br><br>&gt;#「Grepプレビュー版」は、もう取り込み済みなんですよね。<br>ええっ？入れた記憶無いですけど...<br><br>&gt;変更箇所の衝突は、、、私が知っている範囲では、「タブ」と「入力改行コード指定」が<br>&gt;共にツールバー（画像）の変更あり、くらいで、後は．．．(;^^Ａ<br>イメージのマージ...やったこと無いな...<br></div></section>
    <ul><li><section><h1 id=2897>
    <span class="no">[2897]</span>
    <a class="title" href="#2897">Re2: そろそろ取り込み</a>
    <span class="author">すい</span>
    <time datetime="2003-06-26T04:02:44">2003年06月26日 04:02</time></h1>
    <div class="body">&gt;ところで両方いっぺんに取り込んでうまくいくだろうか... <br>げんたさん の愛と人徳があれば大丈夫です、きっと。(笑)<br># そんな物がプログラミングに何の関係あるんだ？＞私<br>さぁ、レッツごちゃ混ぜ。<br>だめだったら げんたさん に愛と人徳が無かったという事で．．．(をぃ＞私)<br><br>&gt;&gt;#「Grepプレビュー版」は、もう取り込み済みなんですよね。<br>&gt;ええっ？入れた記憶無いですけど... <br><br>あ、イカン、「Grepプレビュー版」って2831の修正の事じゃぁなかったのですね。(オオボケ) (;^^ゞ<br>簡単に動かしてみたけど、どこがどう変わっているのかよく分からず、<br>Grep 対象のファイル欄が空の時に *.* になってくれていたから<br>てっきり2831の一連の修正のバイナリかと。<br>プレビュー機能、見てないです。 m(_ _)m<br></div></section>
    </li></ul></li><li><section><h1 id=2901>
    <span class="no">[2901]</span>
    <a class="title" href="#2901">RE: そろそろ取り込み</a>
    <span class="author">みく</span>
    <time datetime="2003-06-26T19:01:26">2003年06月26日 19:01</time></h1>
    <div class="body"><br>&gt;変更箇所の衝突は、、、私が知っている範囲では、「タブ」と「入力改行コード指定」が<br>&gt;共にツールバー（画像）の変更あり、くらいで、後は．．．(;^^Ａ<br><br>タブウインドウ関係で追加した画像は、<br>270 タブの表示・非表示　（270にあった作業画像は271に移動）<br>313 タブ右クリックメニュー（カスタムメニュー24）（312,313にあった作業画像は317,318に移動）<br>です。<br></div></section>
    </li><li><section><h1 id=2904>
    <span class="no">[2904]</span>
    <a class="title" href="#2904">Re: そろそろ取り込み</a>
    <span class="author">げんた</span>
    <time datetime="2003-06-26T23:29:13">2003年06月26日 23:29</time></h1>
    <div class="body">せっかくなので，ヘルプも含めてパッケージとして出したいですね．<br>最近書籍収録のタイミングでしかパッケージ作ってないなぁ...<br><br>ただ，かろとさんの印刷問題修正を先に出した方がよさそう．<br></div></section>
    </li><li><section><h1 id=2907>
    <span class="no">[2907]</span>
    <a class="title" href="#2907">マージの前に:</a>
    <span class="author">げんた</span>
    <time datetime="2003-06-29T05:59:57">2003年06月29日 05:59</time></h1>
    <div class="body">&gt;◎ みくさん http://www.geocities.co.jp/SiliconValley-SanJose/3299/<br>&gt;<br>&gt;★ タブ(もどき)<br>落ち着いたと思ったらまた更新されてますね．焦らなくて良かった(^^)<br><br>--<br>TABありとなしの切り替えをしてウィンドウを開くと両者が混在して変なことになるようですが，どちらかに限れば問題ないのではないでしょうか．混在すると手順によってはウィンドウが画面上から消えて無くなったりするようですが．<br><br>---<br>私はTABブラウザでTAB上の右クリックはウィンドウを閉じるに割り当てているので，メニュー無しでいきなりアクションを登録することもできた方がいいと思います．カスタムメニューに登録されている機能が1つだけならメニューを開かずに登録された機能を実行というのを付ける方法が簡単かと思います．<br><br>右クリックしたときに当該ウィンドウに切り替わってしまうのは現状ではいかんともしがたいのでしょうね．<br><br>--<br>TABを付けてウィンドウをまとめないモードって使いにくいような気がしますが...<br><br>--<br>sakura_rc.rcでフォント指定がよく<br><br>-FONT 9, "ＭＳ Ｐゴシック"<br>+FONT 9, "ＭＳ Ｐゴシック", 0, 0, 0x1<br><br>となっているのですが，これはツールの違いですかね？なぜ後ろのパラメータが増えてしまうのか．<br></div></section>
    <ul><li><section><h1 id=2912>
    <span class="no">[2912]</span>
    <a class="title" href="#2912">RE: マージの前に:</a>
    <span class="author">みく</span>
    <time datetime="2003-06-30T19:36:20">2003年06月30日 19:36</time></h1>
    <div class="body"><br>&gt;TABありとなしの切り替えをしてウィンドウを開くと両者が混在して変なことになるようですが，どちらかに限れば問題ないのではないでしょうか．混在すると手順によってはウィンドウが画面上から消えて無くなったりするようですが．<br><br>ウインドウメニューから切り替えできませんか？<br><br><br>&gt;右クリックしたときに当該ウィンドウに切り替わってしまうのは現状ではいかんともしがたいのでしょうね．<br><br>対象のウインドウが非表示の状態なのに、<br>（検索などの）ダイアログが出るようなパターン<br>があったので、先に切り替えるようにしました。<br><br><br>&gt;sakura_rc.rcでフォント指定がよく<br>&gt;<br>&gt;-FONT 9, "ＭＳ Ｐゴシック"<br>&gt;+FONT 9, "ＭＳ Ｐゴシック", 0, 0, 0x1<br><br>多分イタリック体とかの情報だと思うのですが、<br>逆に消える場合もあるので、私もよくわかりません。<br></div></section>
    <ul><li><section><h1 id=2928>
    <span class="no">[2928]</span>
    <a class="title" href="#2928">仮マージ完了</a>
    <span class="author">げんた</span>
    <time datetime="2003-07-04T01:47:52">2003年07月04日 01:47</time></h1>
    <div class="body">とりあえずみくさんのTABのみ先行してマージしました．<br><br>マージ済みソースをご確認ください．<br><a href=http://sakura-editor.sourceforge.net/snapshot/ssrc_tab_0628.tar.bz2 target=_top><nobr>http://<wbr>sakura-<wbr>editor.<wbr>sourcefo<wbr>rge.<wbr>net/<wbr>snapshot<wbr>/<wbr>ssrc_tab<wbr>_0628.<wbr>tar.<wbr>bz2</nobr></a><br><br>・コメント追加以外の変更点<br>共通設定ダイアログで，追加されたTAB表示とTABをまとめない設定に同一のIDが振られて誤動作していたので，まとめない設定の番号を変更しました．sakura_rc.h<br><br>一般掲示板で書きましたが，外部プロセスを監視する時に休みが全然無いと外部プロセス実行中にsakura.exeがCPUを100%使ってしまうので，パイプのチェック間隔を200msecおきにしました．<br><br>メッセージ処理をブロックしないためにはMsgWaitForMultipleObjects()を使ってメッセージを待たせないようにするのがbestですけどね．<br><br>・質問<br>CFuncLookupで機能名を引く関数が追加されて全部コメントアウトされているのは何なんですか？<br><br>TABの追加以外で何が直ったのか全然追えていません．<br></div></section>
    <ul><li><section><h1 id=2934>
    <span class="no">[2934]</span>
    <a class="title" href="#2934">RE: 仮マージ完了</a>
    <span class="author">みく</span>
    <time datetime="2003-07-04T18:56:55">2003年07月04日 18:56</time></h1>
    <div class="body"><br>&gt;マージ済みソースをご確認ください．<br>ファイルが壊れてる模様<br><br><br>&gt;・質問<br>&gt;CFuncLookupで機能名を引く関数が追加されて全部コメントアウトされているのは何なんですか？<br>追加したのにコメントになってるソースは実装時のごみなので、<br>ばっさり削除してかまいません。<br><br>CFuncLookupの関数は、<br>メニューの文字列が統一されてないという指摘があったので、<br>文字列の出所を1箇所（リソースからLoadString）にまとめようとした跡です。<br>メニューにはショートカットがありますが（例：新規作成(&amp;N)）、<br>リソースにはショートカットがありません（例：新規作成）。<br>そこで、メニューを生成するときにリソースを元にショートカット付きの文字列を生成するものです。<br>＃意欲のある方に実装してもらって...<br></div></section>
    <ul><li><section><h1 id=2936>
    <span class="no">[2936]</span>
    <a class="title" href="#2936">Re2: 仮マージ完了</a>
    <span class="author">げんた</span>
    <time datetime="2003-07-04T23:19:22">2003年07月04日 23:19</time></h1>
    <div class="body">&gt;&gt;マージ済みソースをご確認ください．<br>&gt;ファイルが壊れてる模様<br>失礼致しました．ただいま差し替えました．<br><br>&gt;追加したのにコメントになってるソースは実装時のごみなので、<br>&gt;ばっさり削除してかまいません。<br>こちらの返事をいただけたので，こっちで進めます．<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=2908>
    <span class="no">[2908]</span>
    <a class="title" href="#2908">マージの前に:1</a>
    <span class="author">げんた</span>
    <time datetime="2003-06-29T05:59:58">2003年06月29日 05:59</time></h1>
    <div class="body">遅くなりましたが変更も落ち着いてきたようなのでマージに取りかかろうと思い差分ファイルを一通り見てみました．マージの後にまた変更されると手間がかかるので一応反応を聞いてからということで．ほとんど独り言ですので，今のままで良ければコメントだけ加えてマージします．<br><br>試しにまとめてパッチ当てると結構ぶつかりますねぇ．^^;<br><br>&gt;◎ もかさん<br>変更したのに何も記述していないところが多いです．<br>そのような箇所はdiffを見ながら日付と名前を入れています．<br><br>以下，コメント＋質問です．今回の変更と直接関係ないものもありますがご容赦ください．<br><br>&gt;★ 動的補完機能<br>&gt;　 編集中のファイル中の単語も入力補完の候補として現れるように設定できる。<br>&gt;　 プログラミング時に自分で定義した変数名/関数名の補完などに．．．<br><br>補完を開始したとき＋文字入力するたびにファイル全体を走査するのはパフォーマンスが悪いように思いましたが，1万行程度のファイルなら問題なく使えますね．(Athlon 1.4Gの場合) CPU負荷も全然増えないですし．<br>50万行×4wordの200万語のすべて長さ5byteの単語かつ補完候補が1024以上という環境でも0.5秒くらいの遅延ですね．単語の長さが異なる場合には比較は行われないので，最悪のケースでこのぐらいと考えて良さそうです．<br><br>&gt;★ 持ち歩き向け<br>&gt;　 各設定中で相対パス指定 *も* 可能になる。<br><br>_IS_ABS_PATH()という名前で，絶対パスの時falseを返す仕様は間違いの元になりそう．<br><br>--<br>相対パス指定が可能となってはいますが，ファイルを開くダイアログボックスを使って設定すると絶対パスになりますよね．<br>ここも自動的に相対パスになるとbetterな気がしますが．<br><br>&gt;★ 入力改行コード指定<br>&gt;　 改行時の改行コードをメニューやツールバーから設定可能に。<br><br>特に気になった点はありません．<br><br>&gt;★ マクロ拡張<br>&gt;　 マクロの機能追加。<br>CPPAのインスタンスはPPAが実行されている間は存在しているので，追加された<br>CMemory&#9;&#9;&#9;CPPA::m_cMemRet;<br>CMemory&#9;&#9;&#9;CPPA::m_cMemDebug;<br>bool&#9;&#9;&#9;CPPA::m_bError = false;<br>と元からある<br>CEditView*&#9;&#9;CPPA::m_pcEditView = NULL;<br>DLLSHAREDATA*&#9;CPPA::m_pShareData = NULL;<br>がstaticである必要は無いのでは？<br><br>---<br>PPAのバージョンによる条件コンパイルが（やざきさんの初期版から）入っていますが，よく考えてみるとこの条件は実行時ではなくコンパイル時に判定するものなので，あまり意味はないのかなぁと．実行時にDLLからバージョンを取得して使い分けるのであれば意味があるでしょうけど．<br><br>よく見ると，PPA付属のヘッダファイルは使っていないから自分で定義しているのね(笑)<br><br>---<br>CDocLineMgr::GetLineStr() は連続したアクセスが近い位置にあることを前提に内部のポインタを使ってシーケンシャルにスキャンしているので，ランダムアクセスは時間がかかりますね．これのポインタを外に出せればアウトライン解析の結果を自動追従させたりできそうなのになぁ．(関係ない話になってしまった...)<br></div></section>
    <ul><li><section><h1 id=2922>
    <span class="no">[2922]</span>
    <a class="title" href="#2922">Re: マージの前に:1</a>
    <span class="author">もか</span>
    <time datetime="2003-07-02T11:02:34">2003年07月02日 11:02</time></h1>
    <div class="body">▼げんたさん<br>&gt;遅くなりましたが変更も落ち着いてきたようなのでマージに取りかかろうと思い差分ファイルを一通り見てみました．<br>&gt;マージの後にまた変更されると手間がかかるので一応反応を聞いてからということで．<br><br>*予定と確認<br>_IS_ABS_PATHの修正とコメントを追加して、おそらく金曜の夕方までにミックス修正版を作るつもりでしたが、<br>本業に時間をとられそうなので、さらに遅くなるかもしれません。<br>すでに取り込み中か、それより早くにマージするのでしたら、申し訳ありませんが、げんたさん側で修正お願いします。<br>先にタブモードを取り込むのでしたら、そっちだけでリリースして、それを元に再作成でもかまいませんけど。<br><br>&gt;&gt;◎ もかさん<br>&gt;変更したのに何も記述していないところが多いです．<br>&gt;そのような箇所はdiffを見ながら日付と名前を入れています．<br>良くないと思いつつ、相変わらずコメント少ないです。<br>日付と変更内容・仕様の記述は意味があることは理解しています。言い訳を書くと...(前も書いたような）<br>・ソースコードが、日付と名前（と未使用になった過去のソース）で埋まることを暗に恐れていたり<br>・元々統合する予定でなくコメントなしのままになっている<br>・急ごしらえで作った<br>・投げやり実装。←何とかしろ自分<br><br>&gt;&gt;★ 持ち歩き向け<br>&gt;_IS_ABS_PATH()という名前で，絶対パスの時falseを返す仕様は間違いの元になりそう．<br>意味が正反対ですね。突っ込まれるまで気が付かないとは、英語力の無さを痛感。失礼しました。<br>_IS_REL_PATHかな。*間違いの元*ではなく、間違いそのものですので修正願います。<br><br>&gt;相対パス指定が可能となってはいますが，ファイルを開くダイアログボックスを使って設定すると絶対パスになりますよね．<br>&gt;ここも自動的に相対パスになるとbetterな気がしますが．<br>実装自体は簡単そうです。<br>自己メモ：「実行ファイルディレクトリ\」を「\」に大小英文字を区別せずに置換するだけ<br><br>&gt;&gt;★ マクロ拡張<br>&gt;CPPAのインスタンスはPPAが実行されている間は存在しているので，<br>&gt;CPPA::m_cMemRet等はstaticである必要は無いのでは？<br>コールバック関数からアクセスするのに必要です。<br>普通のメンバ変数にしてCPPA*をstatic(global)で保持すれば、確かに必要ないです。<br><br><br>&gt;PPAのバージョンによる条件コンパイルが，あまり意味はないのかなぁと．<br>ソースを読むとPPAの必須バージョンが分かる程度ですね。<br>そういえば、PPA.DLLの必須バージョンが1.3以上になりました。1.2以下の人は更新してください。<br>&gt;実行時にDLLからバージョンを取得して使い分けるのであれば意味があるでしょうけど．<br>1.2以下でも動くようになる以外、さほど実装する価値はなさそう<br>#Real型を扱う関数は将来も必要にならないような...<br></div></section>
    <ul><li><section><h1 id=2951>
    <span class="no">[2951]</span>
    <a class="title" href="#2951">Re2: マージの前に:1</a>
    <span class="author">もか</span>
    <time datetime="2003-07-14T17:19:33">2003年07月14日 17:19</time></h1>
    <div class="body">お久しぶりです。<br>またしても、HDDが壊れて現在、修理に出している最中です。<br>当分作業できそうにないです。（泣<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></body></html>