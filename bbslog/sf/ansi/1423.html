<!DOCTYPE html><html><head><meta charset='utf-8'><title>マクロの変更を元に戻したいのだけど...</title><link rel='stylesheet' href='bbs.css' /><script src='bbs.js'></script><body><ul class="side"><a href="./" class="toindex">←ANSI版開発トップへ</a><li><div class="list-title">
    <span class="no">1423</span>
    <a class="title" href="1423.html#1423">マクロの変更を元に戻したいのだけど...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1424</span>
    <a class="title" href="1423.html#1424">Re:マクロの変更を元に戻したいのだけど...</a></div>
    </li><li><div class="list-title">
    <span class="no">1425</span>
    <a class="title" href="1423.html#1425">Re: マクロの変更を元に戻したいのだけど...</a></div>
    </li><li><div class="list-title">
    <span class="no">1426</span>
    <a class="title" href="1423.html#1426">Re:マクロの変更を元に戻したいのだけど...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1427</span>
    <a class="title" href="1423.html#1427">Re2:マクロの変更を元に戻したいのだけど...</a></div>
    </li><li><div class="list-title">
    <span class="no">1428</span>
    <a class="title" href="1423.html#1428">マクロで死ぬのは...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1429</span>
    <a class="title" href="1423.html#1429">Re: マクロで死ぬのは...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1432</span>
    <a class="title" href="1423.html#1432">Re: マクロで死ぬのは...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1433</span>
    <a class="title" href="1423.html#1433">Re2: マクロで死ぬのは...</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">1430</span>
    <a class="title" href="1423.html#1430">Re:マクロで死ぬのは...</a></div>
    <ul><li><div class="list-title">
    <span class="no">1435</span>
    <a class="title" href="1423.html#1435">memcpyとstrcpy</a></div>
    </li><li><div class="list-title">
    <span class="no">1437</span>
    <a class="title" href="1423.html#1437">Re2:マクロで死ぬのは...</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul><ul class="main"><li><section><h1 id=1423>
    <span class="no">[1423]</span>
    <a class="title" href="#1423">マクロの変更を元に戻したいのだけど...</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-30T20:04:05">2002年01月30日 20:04</time></h1>
    <div class="body">Diffのbookmark機能がうまく動かなかったので試しに別のマクロを実行してみたらアプリケーションエラー．<br>これではリリースできません．<br><br>ここでがんばって直しても次回PPAに置き換え予定でしたら，やざきさんには悪いですがマクロの変更は見送ったほうが良いと思います．<br><br>で，どこまで戻せばいいんだっけ？また過去ログを漁らないと．<br>影響範囲はC*Macro*ファイルだけですか？<br></div></section>
    <ul><li><section><h1 id=1424>
    <span class="no">[1424]</span>
    <a class="title" href="#1424">Re:マクロの変更を元に戻したいのだけど...</a>
    <span class="author">hor</span>
    <time datetime="2002-01-30T20:53:36">2002年01月30日 20:53</time></h1>
    <div class="body">▼ げんたさん<br>&gt; Diffのbookmark機能がうまく動かなかったので試しに別のマクロを実行してみたらアプリケーションエラー．<br><br>アプリケーションエラーの件はともかく、<br>Bookmarkの方はパターンを//で囲んでおられませんか？</div></section>
    </li><li><section><h1 id=1425>
    <span class="no">[1425]</span>
    <a class="title" href="#1425">Re: マクロの変更を元に戻したいのだけど...</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-30T20:57:18">2002年01月30日 20:57</time></h1>
    <div class="body">&gt;影響範囲はC*Macro*ファイルだけですか？<br>よく見るとDLLSHAREやCEditDocも変わってるじゃん．鬱山車脳．<br></div></section>
    </li><li><section><h1 id=1426>
    <span class="no">[1426]</span>
    <a class="title" href="#1426">Re:マクロの変更を元に戻したいのだけど...</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-30T22:07:15">2002年01月30日 22:07</time></h1>
    <div class="body">▼ げんたさん<br>&gt; Diffのbookmark機能がうまく動かなかったので試しに別のマクロを実行してみたらアプリケーションエラー．<br>&gt; これではリリースできません．<br><br>PPA.DLLに置き換えたとしても、PPA.DLLが無い状態でも現在と同程度のマクロが動くようにという需要があったので、結局はマクロのルーチンを書き換えないといけないと思うんですけど。<br>それでも戻すというのであれば、22日まで戻って、27日のを削除して、私が盛り込んだ以外の修正を取り込めばいいんじゃないでしょうか。<br><br></div></section>
    <ul><li><section><h1 id=1427>
    <span class="no">[1427]</span>
    <a class="title" href="#1427">Re2:マクロの変更を元に戻したいのだけど...</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-30T22:40:14">2002年01月30日 22:40</time></h1>
    <div class="body">▼ やざきさん<br>&gt; PPA.DLLに置き換えたとしても、PPA.DLLが無い状態でも現在と同程度のマクロが動くようにという需要があったので、結局はマクロのルーチンを書き換えないといけないと思うんですけど。<br><br>そうそう、PPA.DLLが無かったらマクロが動かないようにするなら、それでもいいかも :-)</div></section>
    </li><li><section><h1 id=1428>
    <span class="no">[1428]</span>
    <a class="title" href="#1428">マクロで死ぬのは...</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-31T01:32:25">2002年01月31日 01:32</time></h1>
    <div class="body">▼ やざきさん<br>&gt; PPA.DLLが無い状態でも現在と同程度のマクロが動くように<br>それは失礼しました。<br><br>ところで、このマクロは昔のCと同じで引数を与えられた通りに格納して解釈したいように読み出す。<br>だから、引数の型を間違えると簡単にクラッシュする。(この仕様は以前からだけど)<br><br>今回のクラッシュもそれと関係があるかもしれないので調べてみます。<br><br>--<br>もう一つついでに質問。<br>memcpy((char*)param-&gt;m_pData, szParam, nLen );<br>param-&gt;m_pData[nLen] = '\0';<br>って<br>strcpy((char*)param-&gt;m_pData, szParam );<br>より速いんですか？<br><br>--<br>ついでに感想。<br>わざわざ線形listを自前で実装しなくてもlist&lt;&gt;使えば楽なのに。私がlist&lt;&gt;とvector&lt;&gt;で作ったところも自前のリストと配列に直されている。<br><br>CMacroとCKeyMacroの両方のデストラクタでリストを解放していたので「ややっ」と思いましたが、よく見たら２重リストでした。<br></div></section>
    <ul><li><section><h1 id=1429>
    <span class="no">[1429]</span>
    <a class="title" href="#1429">Re: マクロで死ぬのは...</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-31T12:35:29">2002年01月31日 12:35</time></h1>
    <div class="body">▼げんた<br>&gt;ところで、このマクロは昔のCと同じで引数を与えられた通りに格納して解釈したいように読み出す。<br>&gt;だから、引数の型を間違えると簡単にクラッシュする。(この仕様は以前からだけど)<br>&gt;<br>&gt;今回のクラッシュもそれと関係があるかもしれないので調べてみます。<br>アプリケーションエラーを見るとアクセス先が0x00000000番地でした．<br>引数が0個だと上記エラーで死にます．引数0を与えたら動きました．<br></div></section>
    <ul><li><section><h1 id=1432>
    <span class="no">[1432]</span>
    <a class="title" href="#1432">Re: マクロで死ぬのは...</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-31T14:20:04">2002年01月31日 14:20</time></h1>
    <div class="body">&gt;引数が0個だと上記エラーで死にます．<br>直しました．<br>CMacro.cpp (411):<br>pcEditView-&gt;HandleCommand( m_nFuncID, TRUE,( paramArr[0] ? *((int*)paramArr[0]) : 0 ), 0, 0, 0 );<br><br>動くようになったのでこのまま行きます．<br><br>残りは正規表現か．<br></div></section>
    <ul><li><section><h1 id=1433>
    <span class="no">[1433]</span>
    <a class="title" href="#1433">Re2: マクロで死ぬのは...</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-31T14:33:10">2002年01月31日 14:33</time></h1>
    <div class="body">▼ げんたさん<br>&gt; &gt;引数が0個だと上記エラーで死にます．<br>&gt; 直しました．<br>&gt; CMacro.cpp (411):<br>&gt; pcEditView-&gt;HandleCommand( m_nFuncID, TRUE,( paramArr[0] ? *((int*)paramArr[0]) : 0 ), 0, 0, 0 );<br>&gt; <br>&gt; 動くようになったのでこのまま行きます．<br>&gt; <br>&gt; 残りは正規表現か．<br><br>すみませんでした。ありがとうございました。(^-^)</div></section>
    </li></ul></li></ul></li><li><section><h1 id=1430>
    <span class="no">[1430]</span>
    <a class="title" href="#1430">Re:マクロで死ぬのは...</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-31T14:19:57">2002年01月31日 14:19</time></h1>
    <div class="body">▼ げんたさん<br>&gt; もう一つついでに質問。<br>&gt; memcpy((char*)param-&gt;m_pData, szParam, nLen );<br>&gt; param-&gt;m_pData[nLen] = '\0';<br>&gt; って<br>&gt; strcpy((char*)param-&gt;m_pData, szParam );<br>&gt; より速いんですか？<br><br>どうなんでしょう？<br>詳しい方のレスポンスに期待。<br> <br><br>&gt; ついでに感想。<br>&gt; わざわざ線形listを自前で実装しなくてもlist&lt;&gt;使えば楽なのに。私がlist&lt;&gt;とvector&lt;&gt;で作ったところも自前のリストと配列に直されている。<br><br>自前のほうが速いと思っていたけど？<br><br>ちなみに、KeyMacroMgrとCSMacroMgrのいいとこどり（主観）で今のを作ったつもり。<br>どうぞご自由に。</div></section>
    <ul><li><section><h1 id=1435>
    <span class="no">[1435]</span>
    <a class="title" href="#1435">memcpyとstrcpy</a>
    <span class="author">あろか</span>
    <time datetime="2002-01-31T22:11:30">2002年01月31日 22:11</time></h1>
    <div class="body">▼ やざきさん<br>&gt; ▼ げんたさん<br>&gt; &gt; もう一つついでに質問。<br>&gt; &gt; memcpy((char*)param-&gt;m_pData, szParam, nLen );<br>&gt; &gt; param-&gt;m_pData[nLen] = '\0';<br>&gt; &gt; って<br>&gt; &gt; strcpy((char*)param-&gt;m_pData, szParam );<br>&gt; &gt; より速いんですか？<br>&gt; <br>&gt; どうなんでしょう？<br>&gt; 詳しい方のレスポンスに期待。<br><br>ほとんど同じでは？ strcpy が'\0'を探しながら１バイトずつコピーするような実装だと差が大きいでしょうけど。<br>それより strncpy をお薦め。</div></section>
    </li><li><section><h1 id=1437>
    <span class="no">[1437]</span>
    <a class="title" href="#1437">Re2:マクロで死ぬのは...</a>
    <span class="author">げんた</span>
    <time datetime="2002-02-01T00:49:01">2002年02月01日 00:49</time></h1>
    <div class="body">▼ やざきさん<br>&gt; &gt; わざわざ線形listを自前で実装しなくてもlist&lt;&gt;使えば楽なのに。私がlist&lt;&gt;とvector&lt;&gt;で作ったところも自前のリストと配列に直されている。<br>&gt; 自前のほうが速いと思っていたけど？<br>list&lt;&gt;は双方向リストなので逆方向ポインタの分だけ無駄がある。<br>でも、ポインタで作った双方向リストと比較すると速度的な差や特別なメモリ消費は無いと思う。<br>(コンパイルされるとほとんどインライン展開されるので)<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></body></html>