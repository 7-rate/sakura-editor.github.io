<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="/favicon.ico">
  <title>はじめまして＆UNICODE化のこと | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">4993</span>
    <a class="thread-title" href="4993.html#4993">はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">4994</span>
    <a class="thread-title" href="4993.html#4994">Re:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">4998</span>
    <a class="thread-title" href="4993.html#4998">Re2:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">4995</span>
    <a class="thread-title" href="4993.html#4995">RE: はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5000</span>
    <a class="thread-title" href="4993.html#5000">Re2: はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5003</span>
    <a class="thread-title" href="4993.html#5003">Re3: はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5005</span>
    <a class="thread-title" href="4993.html#5005">Re4: はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5007</span>
    <a class="thread-title" href="4993.html#5007">Re5: はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5010</span>
    <a class="thread-title" href="4993.html#5010">Re6: はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">4996</span>
    <a class="thread-title" href="4993.html#4996">Re:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">4997</span>
    <a class="thread-title" href="4993.html#4997">Re2:はじめまして＆UNICODE化のこと</a></div>
    </li><li><div class="list-title">
    <span class="no">4999</span>
    <a class="thread-title" href="4993.html#4999">Re2:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5002</span>
    <a class="thread-title" href="4993.html#5002">Re3:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5008</span>
    <a class="thread-title" href="4993.html#5008">Re4:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">5004</span>
    <a class="thread-title" href="4993.html#5004">Re3:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5006</span>
    <a class="thread-title" href="4993.html#5006">Re4:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5009</span>
    <a class="thread-title" href="4993.html#5009">Re5:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5011</span>
    <a class="thread-title" href="4993.html#5011">Re6:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5012</span>
    <a class="thread-title" href="4993.html#5012">Re4:はじめまして＆UNICODE化のこと</a></div>
    <ul><li><div class="list-title">
    <span class="no">5013</span>
    <a class="thread-title" href="4993.html#5013">Re5:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5016</span>
    <a class="thread-title" href="4993.html#5016">Re3:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li></ul></li><li><div class="list-title">
    <span class="no">5014</span>
    <a class="thread-title" href="4993.html#5014">Re:はじめまして＆UNICODE化のこと</a></div>
    </li></ul></li>
    </ul><ul class="main"><li><section><h1 id=4993>
    <span class="no">[4993]</span>
    <a class="thread-title" href="#4993">はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-12T03:13:39">2007年09月12日 03:13</time></h1>
    <div class="body">はじめまして。kobakeと申します。<br>軽快で多機能なテキストエディタをオープンソースで提供していただき、感謝しております。<br>今までユーザとして便利に使わせていただいておりました。<br><br>先月、日本語以外のUNICODE文書を編集する機会があり、<br>ちょうど良い機会と思い、個人的に勝手ではありますが、<br>サクラエディタのUNICODE化をしてみました。<br>自分が必要なところだけUNICODE化できれば、と考えながらソースをいじっていたのですが<br>いじった箇所の波及、波及で、結果的にはソースの大半に手を付けることになりました。<br><br>道理としては、あらかじめアナウンスした上で作業していれば、<br>無用なコンフリクトも発生しなかったと思うのですが、<br>アナウンスしておいて、後で「できませんでした」というのも、<br>それはそれで迷惑をかけてしまうような気がして、<br>アナウンスできずにいました。申し訳ありません。<br><br>とりあえず、なんとなく動くようになったものが出来ましたので、<br>サイト上に公開してみました。<br>SVNリポジトリにソース修正を加えたものを、そのままZIPで固めただけです。<br>オープンソース開発に公式に参加したことがなく、オープンソースの作法(？)のようなものを<br>あまり理解していないため、何らかの不手際があえば、お教えいただけると助かります。<br><a href=http://mofmof.nsf.tc/soft/ target=_top><nobr>http://<wbr>mofmof.<wbr>nsf.<wbr>tc/<wbr>soft/<wbr></nobr></a><br><br>もし可能であれば本家サクラエディタのほうに取り込んでいただきたく考えています。<br>ただ、変更がかなり大幅なため、単純にマージ、というわけにもいかなそうです。<br>指針を示していただければ幸いです。<br><br>いきなりの長文と、大掛かりなご検討をお願いすることになり申し訳ありません。<br>よろしくお願い致します。</div></section>
    <ul><li><section><h1 id=4994>
    <span class="no">[4994]</span>
    <a class="thread-title" href="#4994">Re:はじめまして＆UNICODE化のこと</a>
    <span class="author">K.Takata</span>
    <time datetime="2007-09-12T07:14:46">2007年09月12日 07:14</time></h1>
    <div class="body">▼ kobakeさん<br>&gt; サクラエディタのUNICODE化をしてみました。<br><br>個人的には、正規表現 DLL として、bregonig.dll の Unicode 対応版が使えるかどうか試していただけるとありがたいなと思ったりします。</div></section>
    <ul><li><section><h1 id=4998>
    <span class="no">[4998]</span>
    <a class="thread-title" href="#4998">Re2:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-12T23:01:13">2007年09月12日 23:01</time></h1>
    <div class="body">▼ K.Takataさん<br>&gt; 個人的には、正規表現 DLL として、bregonig.dll の Unicode 対応版が使えるかどうか試していただけるとありがたいなと思ったりします。<br><br>既にUNICODE対応のDLLがあったのですね。調査不足でした。<br>bregonig.dll、早速組み込んでみます。</div></section>
    </li></ul></li><li><section><h1 id=4995>
    <span class="no">[4995]</span>
    <a class="thread-title" href="#4995">RE: はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-12T08:24:54">2007年09月12日 08:24</time></h1>
    <div class="body">&gt;とりあえず、なんとなく動くようになったものが出来ましたので、<br>&gt;サイト上に公開してみました。<br>&gt;<br>&gt;もし可能であれば本家サクラエディタのほうに取り込んでいただきたく考えています。<br>&gt;ただ、変更がかなり大幅なため、単純にマージ、というわけにもいかなそうです。<br>&gt;指針を示していただければ幸いです。<br>まだきちんと見られていませんが，UNICODE APIは必要最小限で，内部の管理だけwchar_tにしたということでしょうか．<br>印刷プレビューで落ちたりと不完全ではありますが，参考にさせていただきたいと思います．<br>CEditViewに突っ込まれているfont, caret, point等がきちんとクラス化されているのがうれしいですね．<br><br>あとはrastivさんのコメント待ちで...<br></div></section>
    <ul><li><section><h1 id=5000>
    <span class="no">[5000]</span>
    <a class="thread-title" href="#5000">Re2: はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-12T23:21:14">2007年09月12日 23:21</time></h1>
    <div class="body">▼ げんたさん<br>&gt; まだきちんと見られていませんが，UNICODE APIは必要最小限で，内部の管理だけwchar_tにしたということでしょうか．<br><br>言葉不足でした。申し訳ありません。<br>あくまでもUNICODE文書の閲覧、編集、保存ができれば、という目的で、<br>それに関連するであろう箇所のデータ実装のみをUNICODE化(文字列をwchar_tで管理)しました。<br>けっこう関係ないところも「ついでに」UNICODE化されているところもありますが。<br><br>プロジェクトごとUNICODE化せずに、データ管理のみをUNICODEにしているのは、<br>こうしておけばWin98でも動くんじゃなかろうか、という期待も込もっていたります。<br>(が、今Win98で実行を試したところ、謎のエラーで終了しました。。。)<br><br><br>&gt; 印刷プレビューで落ちたりと不完全ではありますが，参考にさせていただきたいと思います．<br><br>ご報告ありがとうございます。<br>多機能である故、まだまだチェックが行き届いていないところが多々あります。<br>見つかったバグは随時つぶしていきます。<br><br><br>&gt; CEditViewに突っ込まれているfont, caret, point等がきちんとクラス化されているのがうれしいですね．<br><br>ありがとうございます。<br>まだまだ整理が済んでいないところが多く、お目汚しになる所も多いですが。。<br>追々ちゃんとコメント及びドキュメントも整備します。<br></div></section>
    <ul><li><section><h1 id=5003>
    <span class="no">[5003]</span>
    <a class="thread-title" href="#5003">Re3: はじめまして＆UNICODE化のこと</a>
    <span class="author">ryoji</span>
    <time datetime="2007-09-13T00:21:51">2007年09月13日 00:21</time></h1>
    <div class="body">&gt;(が、今Win98で実行を試したところ、謎のエラーで終了しました。。。)<br>MBCSコンパイルが通っても、明示的にW系APIを使っていたら9x系では動かないです。<br>あ、MessageBoxWくらいは例外的にあるんだっけ。(^^;;;</div></section>
    <ul><li><section><h1 id=5005>
    <span class="no">[5005]</span>
    <a class="thread-title" href="#5005">Re4: はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-13T01:04:44">2007年09月13日 01:04</time></h1>
    <div class="body">▼ ryojiさん<br>&gt; &gt;(が、今Win98で実行を試したところ、謎のエラーで終了しました。。。)<br>&gt; MBCSコンパイルが通っても、明示的にW系APIを使っていたら9x系では動かないです。<br>&gt; あ、MessageBoxWくらいは例外的にあるんだっけ。(^^;;;<br><br>以前、Win9x系でもW系APIが使えるという話を聞き、<br>「けっこうなんとかなる」と勝手に考えていました(汗)。<br><br>調べてみたらこんな文書が見つかりました。<br>http://support.microsoft.com/?scid=kb%3Ben-us%3B210341&amp;x=14&amp;y=15<br><br>結局サポートされているAPIの数は少ないので、<br>W系API使いまくっていればすぐにこけるわけですね。。。</div></section>
    <ul><li><section><h1 id=5007>
    <span class="no">[5007]</span>
    <a class="thread-title" href="#5007">Re5: はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-13T01:12:51">2007年09月13日 01:12</time></h1>
    <div class="body">&gt;結局サポートされているAPIの数は少ないので、<br>&gt;W系API使いまくっていればすぐにこけるわけですね。。。<br>TextOutWがあるからUNICODEの表示も一応できるのかな...と思ってしまいますが，ryojiさんの指摘ではここに書かれているAPIでも信用してはいけないという話だったような...<br></div></section>
    <ul><li><section><h1 id=5010>
    <span class="no">[5010]</span>
    <a class="thread-title" href="#5010">Re6: はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-13T01:40:53">2007年09月13日 01:40</time></h1>
    <div class="body">▼ げんたさん<br>&gt; TextOutWがあるからUNICODEの表示も一応できるのかな...と思ってしまいますが，ryojiさんの指摘ではここに書かれているAPIでも信用してはいけないという話だったような...<br><br>なるほど。結局Win9xではANSI版にとどめておくのが良いということですね。<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=4996>
    <span class="no">[4996]</span>
    <a class="thread-title" href="#4996">Re:はじめまして＆UNICODE化のこと</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-09-12T17:54:19">2007年09月12日 17:54</time></h1>
    <div class="body">　はじめまして。ラスティブです。<br><br>　オープンソース開発に公式に参加したことがなく、<br>オープンソースの作法のようなものをあまり<br>理解していとのことですが、サクラエディタ<br>プロジェクトの場合は下記のページに詳しく書かれていて、<br>どうもこれ以上のルールはないみたいです（たぶん）：<br><br>「開発参加方法」<br>・・・概要みたいなもののようです<br><a href=http://members.at.infoseek.co.jp/sakura_editor/developer.html target=_top><nobr>http://<wbr>members.<wbr>at.<wbr>infoseek<wbr>.<wbr>co.<wbr>jp/<wbr>sakura_e<wbr>ditor/<wbr>develope<wbr>r.<wbr>html</nobr></a><br><br>「Subversion Repositoryの使用にあたって」<br>・・・SVN の運用ルールが書かれてあるようです<br><a href=http://members.at.infoseek.co.jp/sakura_editor/repositorymgmt.html target=_top><nobr>http://<wbr>members.<wbr>at.<wbr>infoseek<wbr>.<wbr>co.<wbr>jp/<wbr>sakura_e<wbr>ditor/<wbr>reposito<wbr>rymgmt.<wbr>html</nobr></a><br><br>もしご都合が許されるようでしたら、<br>Sourceforge.net に開発者登録を行って、SVN アクセス権限を<br>プロジェクトマネージャから頂いて下さい。そうすることで、<br>公式ブランチによる検証を行うことができるようになります。<br>ちなみに、ブランチを作る目的は・・・当方理解不足で<br>詳しく説明できないのですけれど、あるパッチを前提とした<br>パッチを作ることにあるとのことです（これもたぶん…）。<br>詳しくは上記のページに書かれています。また、<br>掲示板の過去ログなどは下記のページからダウンロード<br>できます。<br><br>「掲示板過去ログ保管庫 - SakuraEditorWiki」<br><a href=http://sakura.qp.land.to/?OtherDoc%2FIncmLogstock target=_top><nobr>http://<wbr>sakura.<wbr>qp.<wbr>land.<wbr>to/?<wbr>OtherDoc<wbr>%<wbr>2FIncmLo<wbr>gstock</nobr></a><br><br>　自分は、Unicode 化のリーダーとか書かれていたり<br>しますが、実のところ“おまけ”ですので、<br>ライセンスにできる限り則って、どんどんやっちゃって<br>結構ですよん。<br><br># つーか人のこと気にしてたら、<br># そんなでかいパッチはコミットまでたどり着きません。<br># がんばってください！<br></div></section>
    <ul><li><section><h1 id=4997>
    <span class="no">[4997]</span>
    <a class="thread-title" href="#4997">Re2:はじめまして＆UNICODE化のこと</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-09-12T19:19:56">2007年09月12日 19:19</time></h1>
    <div class="body">&gt; ▼ ラスティブさん<br>&gt; &gt; どんどんやっちゃって結構ですよん。<br><br>これはまったく不適切な発言でした。。。<br>不意を付かれてころんじゃいましたすみません。<br><br>Unicode 化にあたっては、実は当たり前のことですが、<br>ユーザーの要望と開発者の要望とに答えられるべく<br>仕上げることを念頭に置いてください。<br>（どうでもいいようでよくない問題として、<br>クラス名のネーミングルールとかもあるようです。）<br><br>特に文字コードのことについては、<br>以下の記事に書いてる内容を基準にして頂くと幸いです。<br>ただし、申し訳ありませんがまだドラフトの状態なので、<br>変更される場合があります。<br><br><a href=http://sakura-editor.wiki.sourceforge.net/SJIS%E7%89%B9%E6%9C%89%E9%83%A8 target=_top><nobr>http://<wbr>sakura-<wbr>editor.<wbr>wiki.<wbr>sourcefo<wbr>rge.<wbr>net/<wbr>SJIS%<wbr>E7%<wbr>89%<wbr>B9%<wbr>E6%<wbr>9C%<wbr>89%<wbr>E9%<wbr>83%<wbr>A8</nobr></a><br><br>以上です。<br></div></section>
    </li><li><section><h1 id=4999>
    <span class="no">[4999]</span>
    <a class="thread-title" href="#4999">Re2:はじめまして＆UNICODE化のこと</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-09-12T23:03:05">2007年09月12日 23:03</time></h1>
    <div class="body">　重要なことを言い忘れていました。<br>Unicode 化は、tchar.h に対応する方針で<br>足並みがそろっています…（よね？）<br>詳しくは過去ログにあります。個人的に<br>最も有力な理由と目している記事を挙げておきます。<br>&gt;&gt;dev:4751<br>それと面倒なんですけれど、<br>Win95 サポートのため、VC6 でのコンパイルを<br>保障するようにせよとのことです。<br>　いつの間にか揚げ足取りになっていますが、<br>クリアできればそのままコミットできる可能性が<br>出てきますので　ｂ（＞.・<br></div></section>
    <ul><li><section><h1 id=5002>
    <span class="no">[5002]</span>
    <a class="thread-title" href="#5002">Re3:はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-12T23:58:23">2007年09月12日 23:58</time></h1>
    <div class="body">&gt;Unicode 化は、tchar.h に対応する方針で<br>&gt;足並みがそろっています…（よね？）<br>今頃やっと，見始めてます...<br><br>私の理解の範囲で今北産業しますと，<br>1) ANSIとUNICODEでブランチを分けたらANSIをテストする人いないよね<br>2) UNICODEに統一してもMSLUがバグバグでまともに動かない．<br>3) じゃあ，TCHAR使うしかないなあ<br><br>Windows APIのWideバージョンと内部文字コード(wchar_t)は独立じゃない？という話も出ましたが，ANSI版APIでUnicode文字列は描画できないからUnicode版APIを使わざるを得ない→上の2)へ飛ぶ<br><br>それと，UNICODE APIを使わないとUNICODE文字列をファイル名に使われたときに開けない問題が解決されません．<br><br>ラスティブさんは既存コードにはあまり立ち入っていませんが，まずは文字コード間のマッピングと自動認識の問題を解消することに力を注いでくださっているのかと思ってます．<br><br>&gt;それと面倒なんですけれど、<br>&gt;Win95 サポートのため、VC6 でのコンパイルを<br>&gt;保障するようにせよとのことです。<br>くくっ，厳しい...<br>長年やってると，既存ユーザを守るためにどんどん足かせのおもりが重くなっていくような...<br><br>千秋先輩「ちゃんと仕様書を見ろ！周りのコードを読め！」<br>のだめ「自由にプログラム書いて，何が悪いんですか!」<br><br>＃やっぱり自動試験できないと厳しいなぁ...CMemoryとかCMemoryとかCMemoryとか<br></div></section>
    <ul><li><section><h1 id=5008>
    <span class="no">[5008]</span>
    <a class="thread-title" href="#5008">Re4:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-13T01:22:11">2007年09月13日 01:22</time></h1>
    <div class="body">▼ げんたさん<br><br>たしかに、本音としては自由にプログラム書きたいです(笑)。<br>コンパイラに任せられる処理は全てコンパイラに任せ、<br>浮いたプログラマの時間をかき集めて<br>Win9x用の強力なC++コンパイラと安定したWin9x用UNICODE版APIができれば、という理想を思い描きます。<br>卵と鶏が逆ですが。<br><br>TCHAR対応となると、マクロだけではなんともならず、テンプレートが大活躍しそうです。<br>ただ、VC6コンパイラはテンプレートを含めたコンパイル機能が弱い。辛いです。</div></section>
    </li></ul></li><li><section><h1 id=5004>
    <span class="no">[5004]</span>
    <a class="thread-title" href="#5004">Re3:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-13T00:53:08">2007年09月13日 00:53</time></h1>
    <div class="body">▼ ラスティブさん<br><br>いろいろ参考URL等提示していただいて、ありがとうございます。<br>一応全読しましたが、Subversionのことも実はあまり理解していないので、<br>実際にパッチを入手して実行してみたりなどして、慣れようと思います。。<br><br>TCHARの件、了解しました。<br>ブランチを作る以前に、まだまだソースを整理するのに時間がかかりそうです。<br>(主にTCHAR関連で)<br><br>VC6対応、大変ですけど、なんとかやってみます。。</div></section>
    <ul><li><section><h1 id=5006>
    <span class="no">[5006]</span>
    <a class="thread-title" href="#5006">Re4:はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-13T01:10:34">2007年09月13日 01:10</time></h1>
    <div class="body">座標系を独立したクラスにまとめようと思っているのであれば1つリクエストがあります．<br><br>座標系として，データのバイト位置を示す物理行・桁=CDocLineMgrと折り返されたものも1行とみなすもの=CLayoutMgr の二つが混在しているのですが，これらを混同するバグが多数見つかっています．<br><br>この2つを混同しないよう異なるクラスにすれば型チェックで引っかかるのでバグは減るのかなーと思っています．でも行だけ指定する場合とかは結局単なる整数になっちゃうかな...<br></div></section>
    <ul><li><section><h1 id=5009>
    <span class="no">[5009]</span>
    <a class="thread-title" href="#5009">Re5:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-13T01:35:07">2007年09月13日 01:35</time></h1>
    <div class="body">▼ げんたさん<br>&gt; 座標系を独立したクラスにまとめようと思っているのであれば1つリクエストがあります．<br>&gt; <br>&gt; 座標系として，データのバイト位置を示す物理行・桁=CDocLineMgrと折り返されたものも1行とみなすもの=CLayoutMgr の二つが混在しているのですが，これらを混同するバグが多数見つかっています．<br>&gt; <br>&gt; この2つを混同しないよう異なるクラスにすれば型チェックで引っかかるのでバグは減るのかなーと思っています．でも行だけ指定する場合とかは結局単なる整数になっちゃうかな...<br><br>現在、CLayoutPoint, CLogicPoint という2つの型を用意しており、<br>両者は暗黙の変換はされません。。<br>。。というつもりだったのですが、explicitを入れ忘れてたので暗黙の変換がされてました。<br><br>次回バージョンでは<br>CStrictPointのコンストラクタの<br>  template &lt;class SRC&gt;<br>  CStrictPoint(const SRC&amp; rhs){ x=rhs.x; y=rhs.y; }<br>を<br>  template &lt;class SRC&gt;<br>  explicit CStrictPoint(const SRC&amp; rhs){ x=rhs.x; y=rhs.y; }<br>にするので、暗黙の変換がされなくなります。<br>これで、ポイント単位での型チェックは行われるようになります。<br><br><br>int単位の型チェックは、ちょっと「やりすぎかな」という理由でしませんでしたが、<br>JavaのInteger的なクラスを2種類用意し、両者の暗黙の変換を認めないようにすれば<br>型チェックは可能です。<br><br>ヘッダ内にクラスの全実装を収めておけば<br>おそらくコンパイラが最適化してくれるので、それほど気にする必要もないと思うのですが、<br>Releaseビルドでは単なるintとして定義されるようにしておくと、<br>実行時のオーバーヘッドはゼロになります。<br></div></section>
    <ul><li><section><h1 id=5011>
    <span class="no">[5011]</span>
    <a class="thread-title" href="#5011">Re6:はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-13T07:29:40">2007年09月13日 07:29</time></h1>
    <div class="body">&gt;現在、CLayoutPoint, CLogicPoint という2つの型を用意しており、<br>あ，既に考えられていたのですね．よく見ていませんでした．<br></div></section>
    </li></ul></li></ul></li><li><section><h1 id=5012>
    <span class="no">[5012]</span>
    <a class="thread-title" href="#5012">Re4:はじめまして＆UNICODE化のこと</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-09-14T00:11:06">2007年09月14日 00:11</time></h1>
    <div class="body">▼ kobakeさん<br>&gt; VC6対応、大変ですけど、なんとかやってみます。。<br><br>どうも自分が勝手な判断をしてしまったようです orz.<br>Unicode 化の際の VC6 コンパイラサポートについては、<br>ちょっと決めかねて・・・えーと、いる状態です。<br><br>すみません。<br></div></section>
    <ul><li><section><h1 id=5013>
    <span class="no">[5013]</span>
    <a class="thread-title" href="#5013">Re5:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-14T00:24:29">2007年09月14日 00:24</time></h1>
    <div class="body">▼ ラスティブさん<br>&gt; &gt; VC6対応、大変ですけど、なんとかやってみます。。<br>&gt; <br>&gt; どうも自分が勝手な判断をしてしまったようです orz.<br>&gt; Unicode 化の際の VC6 コンパイラサポートについては、<br>&gt; ちょっと決めかねて・・・えーと、いる状態です。<br><br>UNICODE化の際に、同一コードでANSIビルドもサポートするのであれば、<br>VC6を視野に入れておくことに価値はある気がします。<br><br>決めかねて…と言いますと、<br>UNICODE化以降(ANSIビルドもできる)のソースコードバージョンではVC6を視野に入れない可能性もある、<br>ということでしょうか。<br>自分の中では、<br>　VC6→Win9xのため<br>　ANSIビルド→Win9xのため<br>と解釈しているのですが、そうすると、<br>　UNICODE化以降はVC6を切り捨てる＝Win9xを切り捨てる＝ANSIビルドを切り捨てる<br>という意味に取れてしまったのですが、どこか間違っていますでしょうか。<br>(決して、自分の都合の良いように解釈しようとした訳ではありません(汗))<br></div></section>
    </li></ul></li></ul></li><li><section><h1 id=5016>
    <span class="no">[5016]</span>
    <a class="thread-title" href="#5016">Re3:はじめまして＆UNICODE化のこと</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-14T01:11:09">2007年09月14日 01:11</time></h1>
    <div class="body">&gt;Win95 サポートのため、VC6 でのコンパイルを保障する<br>これは，Windows 95で動作するという意味？<br>それともWindows 95でコンパイルできるという意味？<br><br>前者なら現在も(VC6じゃないけど)できます．<br>後者は...必要あるの？<br></div></section>
    </li></ul></li></ul></li><li><section><h1 id=5014>
    <span class="no">[5014]</span>
    <a class="thread-title" href="#5014">Re:はじめまして＆UNICODE化のこと</a>
    <span class="author">kobake</span>
    <time datetime="2007-09-14T00:25:31">2007年09月14日 00:25</time></h1>
    <div class="body">UNICODEビルド版を公開しました。現時点ではANSIビルド通らなくなってしまいましたが。<br><a href=http://mofmof.nsf.tc/soft/sakura.htm target=_top><nobr>http://<wbr>mofmof.<wbr>nsf.<wbr>tc/<wbr>soft/<wbr>sakura.<wbr>htm</nobr></a><br><br>ところで、ブランチというのは、どの辺りの段階で作成するものなのでしょうか。<br>とりあえずANSIビルド、UNICODEビルドが両方通るところまでは持っていきたいですが、<br>まだバグが潜在してる予感のするものでも、ブランチを作ってしまって<br>皆様のバグレポートをいただきながらブランチを修正していく、といった流れでしょうか。<br></div></section>
    </li></ul></li></ul></body></html>