<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-120820034-1');
  </script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="favicon.ico">
  <title>キーワードヘルプ拡張 | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">4298</span>
    <a class="thread-title" href="4298.html#4298">キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4312</span>
    <a class="thread-title" href="4298.html#4312">Re:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4319</span>
    <a class="thread-title" href="4298.html#4319">Re2:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4320</span>
    <a class="thread-title" href="4298.html#4320">Re3:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4321</span>
    <a class="thread-title" href="4298.html#4321">Re4:キーワードヘルプ拡張</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">4322</span>
    <a class="thread-title" href="4298.html#4322">Re3:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4323</span>
    <a class="thread-title" href="4298.html#4323">Re4:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4324</span>
    <a class="thread-title" href="4298.html#4324">Re5:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4327</span>
    <a class="thread-title" href="4298.html#4327">Re6:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4328</span>
    <a class="thread-title" href="4298.html#4328">Re7:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4329</span>
    <a class="thread-title" href="4298.html#4329">Re8:キーワードヘルプ拡張</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">4353</span>
    <a class="thread-title" href="4298.html#4353">Re7:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4373</span>
    <a class="thread-title" href="4298.html#4373">Re8:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4374</span>
    <a class="thread-title" href="4298.html#4374">Re9:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4386</span>
    <a class="thread-title" href="4298.html#4386">Re10:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4389</span>
    <a class="thread-title" href="4298.html#4389">Re11:キーワードヘルプ拡張</a></div>
    <ul><li><div class="list-title">
    <span class="no">4392</span>
    <a class="thread-title" href="4298.html#4392">ソースコード [Re12:キーワードヘルプ拡張]</a></div>
    </li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">4391</span>
    <a class="thread-title" href="4298.html#4391">Re9:キーワードヘルプ拡張</a></div>
    </li><li><div class="list-title">
    <span class="no">4393</span>
    <a class="thread-title" href="4298.html#4393">Re9:キーワードヘルプ拡張</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li>
    </ul><ul class="main"><li><section><h1 id=4298>
    <span class="no">[4298]</span>
    <a class="thread-title" href="#4298">キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-13T22:49:17">2006年03月13日 22:49</time></h1>
    <div class="body">■1.5.9.90beta版 「マウスオーバでキーワードヘルプ」表示パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-02-19_KeyWordHelpExt.zip<br>　　入れ込みキーワード：2006.03.12 fon<br><br>■機能紹介<br>・FireDictionary風のツールチップ表示方法に拡張。<br>　サクラ標準のキーワードヘルプ機能に、マウスオーバで単語抽出して<br>　キーワード検索する機能を追加。<br>　・[メニュー]-&gt;[設定]-&gt;[共通設定]-&gt;[支援]に<br>　　「マウスオーバで検索」のチェックボタンを追加。<br>　・[メニュー]-&gt;[設定]-&gt;[共通設定]-&gt;[キー割り当て]の種別[支援]に<br>　　「マウスオーバでキーワードヘルプ」を追加。<br><br>■判っている不具合：<br>１．マウスカーソルが貼り付き状態になる。<br>２．行の認識がずれている？ためか、違う訳を出すことがある。<br>３．カーソルを移動させた後、再度クリックしないと反応しなくなる。<br>４．辞書が大きいのか、実装が悪いのか、若干もっさりする。<br><br>■作成にあたり<br>サクラのキーワードヘルプを使ったことがなかったのですが、使ってみ<br>ると非常に便利でしたので、どうせならマウスオーバでも反応すれば<br>もっと便利かと思い、作成を試みました。<br>結果は上記不具合があって、うまくいっていません。<br>完全でない状態でのupで恐縮ですが、このような機能をサクラに追加<br>していただけないでしょうか？<br></div></section>
    <ul><li><section><h1 id=4312>
    <span class="no">[4312]</span>
    <a class="thread-title" href="#4312">Re:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-19T23:37:44">2006年03月19日 23:37</time></h1>
    <div class="body">どうも賛同が得られないっぽいですので、再度見直しで・・<br><br>■1.5.9.91beta版 「カーソル位置の単語を辞書検索」パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_CaretWordSearch.zip<br>　　入れ込みキーワード：2006.03.19 fon<br><br>■機能紹介<br>・キーワードヘルプをFireDictionary風のツールチップ表示方法に拡張。<br>　サクラのキーワードヘルプ機能で、範囲選択しなくてもカーソル位置の<br>　単語をキーワード検索するように拡張。<br>　・[メニュー]-&gt;[設定]-&gt;[共通設定]-&gt;[支援]に<br>　　「カーソル位置の単語を辞書検索」のチェックボタンを追加。<br>　・[メニュー]-&gt;[設定]-&gt;[共通設定]-&gt;[キー割り当て]の種別[支援]に<br>　　「カーソル位置の単語を辞書検索」を追加。<br>・範囲選択した語句がキーワード辞書にあった場合、キーワード辞書に<br>　タグジャンプする機能を右クリックに追加。<br>　・(範囲選択が辞書ヒット)...[右クリック]-&gt;[キーワード辞書を開く]<br><br>■「マウスオーバでキーワードヘルプ」との違い<br>1.5.9.90beta版 「マウスオーバでキーワードヘルプ」表示パッチとの差分<br>（sdiff_2006-02-19_KeyWordHelpExt.zip）<br>　１．マウスオーバでの単語検索を、キャレット位置の単語検索に変更<br>　２．マウスカーソルの張り付き解消<br>　３．行認識異常の修正<br>　４．その他パッチ入れ込みミス修正<br></div></section>
    <ul><li><section><h1 id=4319>
    <span class="no">[4319]</span>
    <a class="thread-title" href="#4319">Re2:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-21T00:20:50">2006年03月21日 00:20</time></h1>
    <div class="body">何か一人でやってますが・・<br>2箇所バグってましたので、その修正版をupしました。<br>メインへの組み込みの方、是非ご検討お願いします！<br><br>■1.5.9.91beta版 「カーソル位置の単語を辞書検索」パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_CaretWordSearch_v2.zip<br>　　入れ込みキーワード：2006.03.19 fon<br><br>■履歴<br>2006/03/20<br>「CaretWordSearch」→「CaretWordSearch_v2」の差分<br>１．行内の文字列にタブ(\t)が入っていると検出位置がずれるのを修正<br>２．右クリックメニューのキーワード説明コピーと「辞書を開く」の<br>　動作が同じになっていたのを修正<br>３．サクラ再起動でDialog中の「カーソル位置の単語を辞書検索」チェック<br>　が外れるが、実使用上問題なしで、逃げ<br></div></section>
    <ul><li><section><h1 id=4320>
    <span class="no">[4320]</span>
    <a class="thread-title" href="#4320">Re3:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-03-21T12:56:12">2006年03月21日 12:56</time></h1>
    <div class="body">&gt;何か一人でやってますが・・<br>いやいや，つまらないから無視している訳じゃなくて...<br>見たいんですがSubversionの方でちょっとしばらく手一杯なので．<br>(こちらが出来ないとだれもソースを変更できないですから)<br></div></section>
    <ul><li><section><h1 id=4321>
    <span class="no">[4321]</span>
    <a class="thread-title" href="#4321">Re4:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-21T13:13:02">2006年03月21日 13:13</time></h1>
    <div class="body">&gt; Subversionの方でちょっとしばらく手一杯なので．<br>ぐへ。し、失礼しました、一人で突っ走っていたようです・・<br>タブ一覧の方もソース見直し中です。<br></div></section>
    </li></ul></li><li><section><h1 id=4322>
    <span class="no">[4322]</span>
    <a class="thread-title" href="#4322">Re3:キーワードヘルプ拡張</a>
    <span class="author">ryoji</span>
    <time datetime="2006-03-21T17:00:31">2006年03月21日 17:00</time></h1>
    <div class="body">&gt; ３．サクラ再起動でDialog中の「カーソル位置の単語を辞書検索」チェック<br>&gt; 　が外れるが、実使用上問題なしで、逃げ<br>CShareData::ShareData_IO_Common() での IOProfileData() とか、<br>CShareData::Init()でのデフォルト値設定が抜けてるみたいな。</div></section>
    <ul><li><section><h1 id=4323>
    <span class="no">[4323]</span>
    <a class="thread-title" href="#4323">Re4:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-03-22T00:09:23">2006年03月22日 00:09</time></h1>
    <div class="body">&gt;CShareData::ShareData_IO_Common() での IOProfileData() とか、<br>&gt;CShareData::Init()でのデフォルト値設定が抜けてるみたいな。<br>CShareData.hの構造体を変更した場合は必ずCShareData.cppの<br>const unsigned int uShareDataVersion = 64;<br>の値を変更(+1)してください．<br><br>--- 以下辛口批評<br><br>CMemoryは文字列を保持するクラスなので，文字列処理とは関係のないメンバーを入れないで欲しい<br>今回の場合は行番号を返すための引数を1つ追加すればOKでは？<br><br>case F_CLICK_KEY_SEARCH:<br>Command_ClickKeySearch();<br>検索をするわけではなくて設定を変えるだけなので<br>ToggleKeySearch()とかいう名前の方がよいのではないか．<br>それと，「カーソル位置の単語を辞書検索」という機能名も実体を表していない．<br>特定のキーを押すとその場でPopupする印象を受ける．<br>(ところで元々のキーワードヘルプ機能の動作がどういう物でしたっけ？)<br><br>また，設定変更で共通設定を書き換えているが，これだと設定が全てのウィンドウへ行き渡る反面，最後の設定が保存されて次回起動時に残ってしまう．必ず起動時はONとかOFFとかいうことが出来なくなる．<br>(以前挿入/上書き設定を同様に保存していたら，気付かずに上書きモードにしたまま戻せなくなる人が出た)<br><br>CEditView::OnTimer()で<br>cmemCurText.SetData()では長さを指定しているので終端の\0は不要．よってpszBufも不要．<br><br>あと，辞書が十万行もあるのに単純サーチで大丈夫なんでしょうか．<br>FireDictonaryにInspireされただけで別に英単語という訳ではないのかな？<br></div></section>
    <ul><li><section><h1 id=4324>
    <span class="no">[4324]</span>
    <a class="thread-title" href="#4324">Re5:キーワードヘルプ拡張</a>
    <span class="author">ryoji</span>
    <time datetime="2006-03-22T01:49:25">2006年03月22日 01:49</time></h1>
    <div class="body">げんたさんほど中身読んでないので、機能面だけコメント追加します。<br>&gt; それと，「カーソル位置の単語を辞書検索」という機能名も実体を表していない．<br>&gt; 特定のキーを押すとその場でPopupする印象を受ける．<br>&gt; (ところで元々のキーワードヘルプ機能の動作がどういう物でしたっけ？)<br>当初目論みの、マウスオーバー位置のキーワードをヘルプ表示するほうが魅力的な気がしますね。<br>現在のは、従来機能と比べて選択するかどうかの違いだけですし。<br>ずっと同じ内容のヘルプがマウスカーソルに追従されてもかえって邪魔だったりとか。</div></section>
    <ul><li><section><h1 id=4327>
    <span class="no">[4327]</span>
    <a class="thread-title" href="#4327">Re6:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-23T00:21:33">2006年03月23日 00:21</time></h1>
    <div class="body">■1.5.9.91beta版 「キャレット位置の単語を辞書検索」パッチ3<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_CaretWordSearch_v3.zip<br><br>&gt;CMemoryは文字列を保持するクラスなので，文字列処理とは関係のないメンバーを入れないで欲しい<br>メンバ変数とGet/Set I/Fを削除し、CDicMgr::Searchにint*の引数を追加。影響箇所も追加修正。<br><br>&gt;case F_CLICK_KEY_SEARCH:、Command_ClickKeySearch();<br>&gt;設定を変えるだけなので、ToggleKeySearch()とかいう名前の方がよいのではないか．<br>まんまイタダキました。<br><br>&gt;「カーソル位置の単語を辞書検索」という機能名も実体を表していない．<br>正確性を期すために「キャレット位置の単語を辞書検索」にしてみました。もっと良い名前あります？<br><br>&gt;特定のキーを押すとその場でPopupする印象を受ける．<br>&gt;(ところで元々のキーワードヘルプ機能の動作がどういう物でしたっけ？)<br>文字列を範囲選択すると、逐次キーワード辞書検索し、ヒットしたらToolTipで表示します。<br><br>&gt;設定変更で共通設定を書き換えているが，最後の設定が保存されて次回起動時に残ってしまう．<br>&gt;(以前挿入/上書き設定を同様に保存していたら，気付かずに上書きモードにしたまま戻せなくなる人が出た)<br>ryojiさん、げんたさんの情報を元に修正を行い、初期値が消えなくなりました。<br>その上で、上記問題を加味して修正をコメントアウトしました。<br><br>&gt;CEditView::OnTimer()でcmemCurText.SetData()では長さを指定しているので終端の\0は不要．よってpszBufも不要．<br>CMemory::SetData内のEmpty()の後、なぜかバッファが解放されてしまうため、現行コードを維持。<br>同じコードが、CEditView::CreatePopUpMenu_Rにもありましたが、現状維持で。<br><br>&gt;あと，辞書が十万行もあるのに単純サーチで大丈夫なんでしょうか．<br>&gt;FireDictonaryにInspireされただけで別に英単語という訳ではないのかな？<br>GENE95で試したところ、500MHz程度のPCでも実時間(1秒以内)には返事が来ています。<br>ただ、次の理由でやっぱり見直しが必要と考えています。(ちなみにマウスオーバだと、コピペなど他の操作もモッサリ重くなってしまいました。バグもあったんで、再度見直してみます＞ryojiさん)<br>経緯：<br>キーワードヘルプを知る→FireDictionary風にしたら便利だった→ソースコードに転用してみると更に便利(車輪の再発明?)<br>→CVSで共有したところ格段に便利(ナレッジ・データベース風)→辞書が煩雑に、巨大化する一方。<br>＃現在タイプ別に辞書を設定できますが、ほんとにやりたいのはprojectやテーマごとだと思いますので、複数の辞書を随時切り替えできるI/Fが必要と考えました。<br>イメージ：plusImage.bat をパッチし、設定-&gt;タイプ別設定-&gt;辞書ファイルタブ をご覧ください(面倒で済みません)<br>正規表現キーワードのパクリですが、辞書ON/OFF、検索優先順位、FilePath、説明、などの設定をテキスト保存して使うイメージです。<br>一人で実装し切れる自信がありませんので、まずはってことで今回のパッチで賛同が得られたら、実現に近づくかなと思った次第です。<br>長々済みません、ryojiさん、げんたさん、コメントありがとうございます！(今後もお願いします<br></div></section>
    <ul><li><section><h1 id=4328>
    <span class="no">[4328]</span>
    <a class="thread-title" href="#4328">Re7:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-03-23T01:33:19">2006年03月23日 01:33</time></h1>
    <div class="body">&gt;&gt;「カーソル位置の単語を辞書検索」という機能名も実体を表していない．<br>&gt;正確性を期すために「キャレット位置の単語を辞書検索」にしてみました。もっと良い名前あります？<br>これって...検索する機能じゃなくてクリック検索の有効・無効を切り替える機能ですよね？<br>今の名前だと実行したときにキャレットがある位置で検索実行と読めますが，勘違いしてます？<br><br>&gt;&gt;CEditView::OnTimer()でcmemCurText.SetData()では長さを指定しているので終端の\0は不要．よってpszBufも不要．<br>&gt;CMemory::SetData内のEmpty()の後、なぜかバッファが解放されてしまうため、現行コードを維持。<br>&gt;同じコードが、CEditView::CreatePopUpMenu_Rにもありましたが、現状維持で。<br>ん．これは私の勘違いですか．すいません．机上レビューしただけでデバッガで動かしていないので...すいません．<br></div></section>
    <ul><li><section><h1 id=4329>
    <span class="no">[4329]</span>
    <a class="thread-title" href="#4329">Re8:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-23T22:57:41">2006年03月23日 22:57</time></h1>
    <div class="body">おかしい箇所を修正し、v4として差し替えup致しました。<br><br>&gt; &gt;&gt;「カーソル位置の単語を辞書検索」という機能名も実体を表していない．<br>&gt; &gt;正確性を期すために「キャレット位置の単語を辞書検索」にしてみました。もっと良い名前あります？<br>&gt; これって...検索する機能じゃなくてクリック検索の有効・無効を切り替える機能ですよね？<br>&gt; 今の名前だと実行したときにキャレットがある位置で検索実行と読めますが，勘違いしてます？<br>おっしゃる通りです。DialogのCheckBoxの方の名前に固執していました。<br>キー割り当ての名前を「キャレット位置辞書検索機能ON/OFF」としました。(文字数ギリ)<br><br>&gt; 机上レビューしただけでデバッガで動かしていないので...<br>いえ、有難いことです。こちらも既存コード部ということで油断していました。<br><br>■1.5.9.91beta版 「カーソル位置の単語を辞書検索」パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_CaretWordSearch_v4.zip<br>　　入れ込みキーワード：2006.03.19 fon<br></div></section>
    </li></ul></li><li><section><h1 id=4353>
    <span class="no">[4353]</span>
    <a class="thread-title" href="#4353">Re7:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-03-30T23:20:55">2006年03月30日 23:20</time></h1>
    <div class="body">&gt; 正規表現キーワードのパクリですが、辞書ON/OFF、検索優先順位、<br>&gt; FilePath、説明、などの設定をテキスト保存して使うイメージです。<br>の機能を実装しました。<br>■1.5.9.91beta版 「キーワードヘルプ拡張」パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_KeyDictSelect.zip<br>　　入れ込みキーワード：<br>　　　2006.03.24 fon  --Caret位置単語のKeywordHelp機能, 辞書を開く<br>　　　2006.03.30 fon  --KeywordHelpの複数辞書選択Dialog<br>■新機能紹介<br>・タイプ別設定に複数のキーワード辞書選択を行う辞書ファイルタブを追加。<br>　・[メニュー]-&gt;[設定]-&gt;[タイプ別設定]-&gt;[辞書ファイル]タブを追加し、<br>　　複数の辞書の登録・入れ替え等に対応。<br>※上記に加え、CaretWordSearch_v4までの機能も盛り込み。<br>　(上記機能による修正があるためマージしています。)<br><br>■作成にあたり<br>キーワードヘルプの複数辞書化が出来るとProjectやテーマごとのキーワードを<br>容易に扱えるようになり便利だろう、ということで実装しました。<br>期待した動作になっているつもりですが、どうでしょうか？<br>(現状、オリジナルのキーワードヘルプ機能も、優先度低のORで使えます)<br><br>後はやっぱりげんたさんご指摘のように、パフォーマンスの問題が気になります。<br>アルゴリズム等に絡んで大幅な改修、ということになると恐らく手が出ませんが、<br>いいアイデアがあれば、併せてお願いします。<br>＃そのまま修正版を出して頂けたら、さらに嬉しいです！<br></div></section>
    <ul><li><section><h1 id=4373>
    <span class="no">[4373]</span>
    <a class="thread-title" href="#4373">Re8:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-04-05T00:41:52">2006年04月05日 00:41</time></h1>
    <div class="body">■1.5.9.91beta版 「キーワードヘルプ拡張」パッチ<br>　ブリーフケース/Developer/Source<br>　→sdiff_2006-03-17_KeyDictSelect_v3.zip<br><br>■v1からの差分<br>１．インポート／エクスポート処理の追加<br>　　Import_KeyDict、Export_KeyDict<br>２．「辞書ファイルの概要」の長さを50に減らした<br>　　DICT_ABOUT_LEN=50<br>３．「辞書ファイルの概要」の文字列が折り返した際、<br>　2行目が中途半端に見えてしまうのを修正<br>　　IDC_LABEL_KEYDICT_ABOUTの文字の高さを10→8に。<br>４．「更新」ボタン押下した際に、辞書1行目の内容が更新されないのを修正<br>５．検索・表示オプションとして、「ヒットした次の辞書も検索」を追加<br>　　通常ヒットしたら検索終了となるが、全部の辞書を一通りナメて全て表示する。<br>　　※ただし、同一辞書内の重複は、最初の1件だけ表示<br>６．表示オプションとして、「キーワードも表示」を追加<br>　　キャレット位置の単語検索の場合などで、どの単語の意味を表示しているのか明示するため。<br>７．検索オプションとして、「選択範囲で前方一致検索」を追加<br>　　例）unbelievableが辞書になくても、believを範囲選択したらbelieveにヒットした。<br><br>■作成にあたり<br>キーワードヘルプの機能としては、大体盛り込めたと思いますので、一旦終了にします。<br>マウスオーバ機能については、やはりパフォーマンス的なところがネックになりそう<br>でしたので、断念しました。アプローチとしては、CEditView::OnMOUSEMOVEで、手カーソル<br>を真似したもので実装検討しました。<br><br>「選択範囲で前方一致検索」の機能は、最初の1ヒットしか表示しないため、<br>使い勝手が劇的に良くなるということもなさそうです。<br>また、パフォーマンスに影響があるかどうか、このオプションのために検索エンジン<br>のコアの_stricmpを_strnicmpに変更しています。(CDicMgr::Search内)<br>この機能は入力補完機能を併用すれば、似たような使い方ができないことも無い<br>ですので、問題があれば取りやめます。<br>一応、当初の予定の英単語検索を成就させたくて実装しました。<br><br>別件、ToolTipウィンドウの最大折り返し幅が画面サイズなのを、画面内に収める修正<br>をしようとしましたが、上手くいっていません。<br>やりたい事は、現状CTipWnd::ComputeWindowSizeでは、DrawTextをrc.right、<br>DT_CALCRECT指定で発行していますが、(rc.right＝画面横幅－マウスnX)の指定で<br>折り返したいというものです。<br>WEBなどを参考にすると、DrawTextは2回発行して、1回目にDT_CALCRECTを<br>指定するようなのですが、元の実装のままでも、2回発行の手順にしても、戻ってくる<br>rcの値が、折り返しを考慮した値になりません。何が原因かわかりますでしょうか？<br><br>■<br>掲示板を拝見していると、Subversionでの作成が望ましいようですので、<br>アカウントをいただけるようでしたら、チャレンジしてみたいと思います。<br>よろしくお願い致します。より簡単に評価して頂けるなら、望むところです。</div></section>
    <ul><li><section><h1 id=4374>
    <span class="no">[4374]</span>
    <a class="thread-title" href="#4374">Re9:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-04-05T09:48:14">2006年04月05日 09:48</time></h1>
    <div class="body">&gt;掲示板を拝見していると、Subversionでの作成が望ましいようですので、<br>&gt;アカウントをいただけるようでしたら、チャレンジしてみたいと思います。<br>アカウントはCommitするのに必要なだけでして，ソースを取得してパッチを作成するだけであれば誰でもできます．<br></div></section>
    <ul><li><section><h1 id=4386>
    <span class="no">[4386]</span>
    <a class="thread-title" href="#4386">Re10:キーワードヘルプ拡張</a>
    <span class="author">fon</span>
    <time datetime="2006-04-08T11:21:56">2006年04月08日 11:21</time></h1>
    <div class="body">&gt; アカウントはCommitするのに必要なだけでして，ソースを取得してパッチを作成するだけであれば誰でもできます．<br>コメントありがとうございます。お時間取れましたらパッチの方のレビューもして頂けると嬉しいです！<br><br>１点、一般の方向けのSubversionの位置づけについて質問です。<br><br>Subversionでソースをダウンロードしたところ、最新版を取得する旨のメッセージが出ました。このことから、パッチを最新のスナップショットで作成した場合、一般の方がダウンロードしたバージョンと、パッチのバージョンが変わってしまいそうです。<br>SVNの使い方を覚えてしまえばそれまでの話ですが、レビューして頂く際の敷居が上がって、見てもらえなくなったりしないかと危惧しています。<br><br>とはいえ、これまで通りsrc.tar.gzベースで作成すると、リリース周期から言ってマージが面倒になるということも理解できます。<br><br>何が言いたいか怪しくなってきましたが、要するにSubversionでパッチを作った方がベター、ということで良いですよね？（良く使い込んでいない状態での質問で恐縮です）<br>パッチの作成方法はこれまでのように、<br>　１．SVNでダウンロードした際のイメージ<br>　２．そこからモディファイしたコード<br>の差分を、指定のdiffツールにかける、という認識です。<br></div></section>
    <ul><li><section><h1 id=4389>
    <span class="no">[4389]</span>
    <a class="thread-title" href="#4389">Re11:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-04-08T12:12:10">2006年04月08日 12:12</time></h1>
    <div class="body">&gt;パッチを最新のスナップショットで作成した場合、一般の方がダウンロードしたバージョンと、パッチのバージョンが変わってしまいそうです。<br>リリース最新ソースにパッチが適用出来なくなることを心配していらっしゃるのですよね．<br>正直そこまで考えていませんでした．しかしSubversionはHTTPSでアクセスできますのでWebに接続できる環境であればほとんどの人が利用できるから問題にはならないのではと思います．一般の人と言ってもパッチをダウンロードして適用して自分でコンパイルするくらいですから，バイナリを使うだけの人とちがってある程度のツール操作は受け入れてもらえるかなと．<br><br>&gt;パッチの作成方法はこれまでのように、<br>&gt;　１．SVNでダウンロードした際のイメージ<br>&gt;　２．そこからモディファイしたコード<br>&gt;の差分を、指定のdiffツールにかける、という認識です。<br>Subversionを使うのであれば，Subversion自身を使って差分を作成してください．普通のdiffだとリビジョン情報が入っていないためにSubversionには直接読み込めません．Subversionで作ったファイルは従来のpatchにも使えるはずですから互換性は保たれています．<br></div></section>
    <ul><li><section><h1 id=4392>
    <span class="no">[4392]</span>
    <a class="thread-title" href="#4392">ソースコード [Re12:キーワードヘルプ拡張]</a>
    <span class="author">かろと</span>
    <time datetime="2006-04-08T14:54:54">2006年04月08日 14:54</time></h1>
    <div class="body"><br>&gt;発言者: げんた<br>&gt;しかしSubversionはHTTPSでアクセスできますのでWebに接続できる環境であればほとんどの人が利用できるから問題にはならないのではと思います．<br><br>そういえば、ソースをSubversionで公開しているのだから、<br>リリース時の作業の<br>「・ソースコードをExportしてtar.bz2で圧縮． 」<br>は、止めてもいいのではないでしょうか？<br></div></section>
    </li></ul></li></ul></li></ul></li><li><section><h1 id=4391>
    <span class="no">[4391]</span>
    <a class="thread-title" href="#4391">Re9:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-04-08T14:48:17">2006年04月08日 14:48</time></h1>
    <div class="body">なかなか使い方がわかりませんでしたがやっと挙動がつかめてきました．<br>変換ツールでGENE95を変換して試させて頂きました．<br><br>[共通設定]の[支援]に追加された「キャレット位置の...」は右クリックでの検索と関連していて，<br>OFF→選択して右クリックしたときだけキーワードヘルプを表示<br>ON→選択せずに右クリックしたときもキーワードヘルプを表示<br><br>ツールチップは選択して，その領域城にマウスを置いてちょっと待つ．<br>---<br><br>気になる点<br><br>右クリックメニューのヘルプはメニュー1項目分のみ表示となるため，キーワードも表示させた上で複数辞書検索にすると肝心の検索結果がはみ出して見えない．また改行が\nのままとなる．<br>※OwnerDrawでメニューに複数行書いて対応するか(?)<br><br>既存のキーワードヘルプ機能を残したまま追加していてソースコードでも別のフラグにしているようだが，今までの設定項目は全部削除でいいのでは？両者の違いがわからない．<br></div></section>
    </li><li><section><h1 id=4393>
    <span class="no">[4393]</span>
    <a class="thread-title" href="#4393">Re9:キーワードヘルプ拡張</a>
    <span class="author">げんた</span>
    <time datetime="2006-04-08T14:56:06">2006年04月08日 14:56</time></h1>
    <div class="body">エディタ上から抽出した文字列に対応する文字列をツールチップorメニューに表示するという枠組みだけ考えると，別にファイルから検索する必要もないですね．サーバに問い合わせるとか，指定のURLに問い合わせるとかできるとさらに用途が広がりそうな感じもしますね．<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></body></html>