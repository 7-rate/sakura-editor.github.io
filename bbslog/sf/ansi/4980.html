<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="/favicon.ico">
  <title>パッチ状況まとめ | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">4980</span>
    <a class="thread-title" href="4980.html#4980">パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4981</span>
    <a class="thread-title" href="4980.html#4981">RE: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4982</span>
    <a class="thread-title" href="4980.html#4982">RE2: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4983</span>
    <a class="thread-title" href="4980.html#4983">RE3: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4984</span>
    <a class="thread-title" href="4980.html#4984">Re4: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4985</span>
    <a class="thread-title" href="4980.html#4985">Re5: パッチ状況まとめ</a></div>
    </li><li><div class="list-title">
    <span class="no">4987</span>
    <a class="thread-title" href="4980.html#4987">Re5: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4989</span>
    <a class="thread-title" href="4980.html#4989">Re6: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4990</span>
    <a class="thread-title" href="4980.html#4990">Re7: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4991</span>
    <a class="thread-title" href="4980.html#4991">Re8: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">4992</span>
    <a class="thread-title" href="4980.html#4992">Re9: パッチ状況まとめ</a></div>
    <ul><li><div class="list-title">
    <span class="no">5001</span>
    <a class="thread-title" href="4980.html#5001">Re10: パッチ状況まとめ</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">4986</span>
    <a class="thread-title" href="4980.html#4986">RE: パッチ状況まとめ</a></div>
    </li></ul></li>
    </ul><ul class="main"><li><section><h1 id=4980>
    <span class="no">[4980]</span>
    <a class="thread-title" href="#4980">パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-06T05:30:17">2007年09月06日 05:30</time></h1>
    <div class="body">テスト版3 (1.5.17.203)以降のパッチ状況です．<br><br>▼Commit完了<br>-[[patches:1758102]] 画面の高さが３ライン以下でも良い 3line_or_less_2.diff<br>-[[patches:1757559]] Undoでスクロールバーが更新されない FixUndoScroll2.patch<br>-[[patches:1750637]] ダブルクリックドラッグの選択動作 DBClickDrag20070709.patch<br>-[[patches:1786543]] Junk/24 Grep 画面へのドラッグ＆ドロップ DragToGrepDlg_20070209.patch<br>-[[patches:1784912]] 次の／前のウィンドウが分割画面内で巡回動作しない FixNextWindow1.patch<br><br>▼Commit依頼中<br>-(更新)[[patches:1721425]] MultiUser2_5_1.patch   Vista UACとマルチユーザへの対応<br>-[[patches:1776384]] コマンドライン -Y=num FixMoveCursorEOL2_3.patch<br>-[[patches:1775980]] 改行の矢印イメージ入れ替え DrawEOL1.zip<br><br>▼検証待ち<br>-(更新)[[patches:1742481]] bregonig.dll対応 bregonig-8.diff<br>-[[patches:1724317]] UTF-7 の読み取りミス(?) 対策＋α codechecker_fix4__r1112.patch<br>-[[patches:1733921]] C++のAttribute対応 atloutline1.diff<br>-[[patches:1668208]] Python用アウトライン解析 python_outline_a08.zip<br>-[[patches:1553455]] パイプやリダイレクト記号を使えるようにする ExecCommandPlus20070702.zip<br>-(新)[[patches:1788045]] CEOL クラスの TCHAR 化パッチ<br><br>▼不完全なのでとりあえず見送り<br>-[[patches:1550557]] 自動実行マクロ AutoExecMacro5_a3_1112.patch<br><br>長いこと検証待ち(というか放置)していたマルチユーザの確認をしましたので，あとはbregonig.dllがOKならVista対応版として新インストーラでリリースできるかなと思います．<br></div></section>
    <ul><li><section><h1 id=4981>
    <span class="no">[4981]</span>
    <a class="thread-title" href="#4981">RE: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-06T06:38:36">2007年09月06日 06:38</time></h1>
    <div class="body">&gt;-(更新)[[patches:1742481]] bregonig.dll対応 bregonig-8.diff<br>これについてはじゅうじさんのコメント待ちです．<br><br>&gt;-[[patches:1724317]] UTF-7 の読み取りミス(?) 対策＋α codechecker_fix4__r1112.patch<br>新たな問題が見つかって修正ファイルが出る予定．<br></div></section>
    <ul><li><section><h1 id=4982>
    <span class="no">[4982]</span>
    <a class="thread-title" href="#4982">RE2: パッチ状況まとめ</a>
    <span class="author">maru</span>
    <time datetime="2007-09-09T21:42:26">2007年09月09日 21:42</time></h1>
    <div class="body">一番インパクトの大きな変更は、やはり[[patches:1721425]] Vista UACとマルチユーザへの対応 だと思いますが、変更内容を追いかけきれていないので確認させてください。<br>基本的には、http://sakura-editor.wiki.sourceforge.net/UAC の仕様(B)がベースと考えればよいのでしょうか。<br><br>変更点<br>１．exeと同じフォルダにsakura.exe.iniを置くと、その指定に従う。<br>２．sakura.exe.iniはユーザーが自分で作るファイル、もしくはインストーラが担当する。<br>３．sakura.exe.iniが無い場合はexeと同じ位置のsakura.iniを利用する。<br>４．sakura.exe.iniの指定内容はsakura/trunk/resource/sakura.exe.iniのコメントの通り。<br>５．MultiUser有効時は設定ダイアログ左下に「設定フォルダ」ボタン<br>６．相対パス指定時にiniフォルダを優先するのは<br>&#9;migemo.dll<br>&#9;辞書ファイル<br>&#9;キーワードヘルプファイル<br>&#9;入力補完ファイル<br>&#9;ルールファイル<br>&#9;各種マクロファイル<br>&#9;外部ヘルプファイル<br>&#9;外部HTMLヘルプファイル<br>&#9;my_icons.bmp my_appicon.ico my_grepicon.ico<br>７．ExpandParameter("$I") iniフォルダのパス<br>８．コマンドラインオプション "-WQ" 設定を保存して終了する<br>９．%AppData%→アプリデータ<br><br>注意事項：既にvirtual storeに入っている設定ファイル(sakura.ini, RecKey.mac)がバージョンアップに伴って見えなくなる．<br><br>これで認識は合っていますか。また上記３はVistaにおいても適用されるルールでしょうか。<br></div></section>
    <ul><li><section><h1 id=4983>
    <span class="no">[4983]</span>
    <a class="thread-title" href="#4983">RE3: パッチ状況まとめ</a>
    <span class="author">maru</span>
    <time datetime="2007-09-09T22:01:35">2007年09月09日 22:01</time></h1>
    <div class="body">&gt;&gt;dev:4982 と関連して<br>iniフォルダ、設定フォルダ、個人ディレクトリなど、前後の文脈によっていくつかの表現が使用されていますが、ヘルプ内で表記統一するなら、やはりボタンのキャプションに合わせて「設定フォルダ」でしょうか。<br></div></section>
    <ul><li><section><h1 id=4984>
    <span class="no">[4984]</span>
    <a class="thread-title" href="#4984">Re4: パッチ状況まとめ</a>
    <span class="author">ryoji</span>
    <time datetime="2007-09-09T22:58:04">2007年09月09日 22:58</time></h1>
    <div class="body">▼ maruさん<br>ご苦労様です～。<br><br>変更点１～９についてはその通りです。<br>注意事項のほうは、インストーラで上書きインストールした場合のことだと思いますが．．．<br>インストール以前にsakura.exe.iniが無かった場合、マニフェストはどうするつもりでいますか？＞げんたさん<br><br>&gt; &gt;&gt;dev:4982 と関連して<br>&gt; iniフォルダ、設定フォルダ、個人ディレクトリなど、前後の文脈によっていくつかの表現が使用されていますが、ヘルプ内で表記統一するなら、やはりボタンのキャプションに合わせて「設定フォルダ」でしょうか。<br>僕は、それでいいと思います。<br>どこか（ボタンのキャプション説明あたり？）にでも「設定フォルダ＝iniファイルが置かれているフォルダ」である旨の説明はあったほうがいいかもです。</div></section>
    <ul><li><section><h1 id=4985>
    <span class="no">[4985]</span>
    <a class="thread-title" href="#4985">Re5: パッチ状況まとめ</a>
    <span class="author">ryoji</span>
    <time datetime="2007-09-09T23:08:49">2007年09月09日 23:08</time></h1>
    <div class="body">&gt; 変更点１～９についてはその通りです。<br>補足します。<br>８の-WQオプションは実行フォルダ(exeの置かれているフォルダ)にsakura.iniを書き込みます。<br>sakuextがsakuraを呼び出すケースに用いられるのみで、ユーザーが直接指定することは想定していません。</div></section>
    </li><li><section><h1 id=4987>
    <span class="no">[4987]</span>
    <a class="thread-title" href="#4987">Re5: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-10T02:49:47">2007年09月10日 02:49</time></h1>
    <div class="body">&gt;インストール以前にsakura.exe.iniが無かった場合、マニフェストはどうするつもりでいますか？＞げんたさん<br>sakura.exe.iniとmanifestはインストール中のマルチユーザの指定に従います．<br>で，マルチユーザの初期値は<br>Vista以降で管理者権限ならばマルチユーザ．<br>ただしsakura.exeが既にあって，さらにsakura.exe.iniの中身がMultiUserならばマルチユーザ<br>sakura.exeがあるがsakura.exe.iniが無い，あるいはマルチユーザでなければマルチユーザでない<br><br>現在のインストーラ(Test3)ではsakura.exe.iniとマニフェストは存在しない場合のみインストールすることにしています．<br>しかし，Virtual Storeにあるsakura.iniを読み込むためにはマルチユーザ設定であってもmanifestで上書きするのはまずい．<br>(突然設定が消えたように見えるのはまずい)<br><br>manifestでvirtual storeをoffにするのは新規インストールする場合のみが妥当ってことで良い？<br></div></section>
    <ul><li><section><h1 id=4989>
    <span class="no">[4989]</span>
    <a class="thread-title" href="#4989">Re6: パッチ状況まとめ</a>
    <span class="author">ryoji</span>
    <time datetime="2007-09-10T23:41:56">2007年09月10日 23:41</time></h1>
    <div class="body">▼ げんたさん<br>&gt; manifestでvirtual storeをoffにするのは新規インストールする場合のみが妥当ってことで良い？<br>良いと思います。<br>バージョンアップでは、現状維持のために<br>sakura.exe.ini（シングルユーザ／マルチユーザ）<br>sakura.exe.manifest（Virtual Store ON/OFF）<br>の両方とも、追加や内容変更はしない。必要なら手動で設定する。<br>そういうことになるかな？</div></section>
    <ul><li><section><h1 id=4990>
    <span class="no">[4990]</span>
    <a class="thread-title" href="#4990">Re7: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-10T23:52:38">2007年09月10日 23:52</time></h1>
    <div class="body">&gt;バージョンアップでは、現状維持のために<br>&gt;sakura.exe.ini（シングルユーザ／マルチユーザ）<br>&gt;sakura.exe.manifest（Virtual Store ON/OFF）<br>&gt;の両方とも、追加や内容変更はしない。必要なら手動で設定する。<br>いや，インストール時に「マルチユーザ」を選べばマルチユーザへの移行は可能です．<br>その場合，初回起動時のsakura.iniは<br>Read : Program Files\sakuraのvirtual storeより<br>Write: ユーザプロファイルフォルダ<br>となり，二回目からは通常のマルチユーザに．<br><br>ただし，virtual storeのsakura.iniは残骸として残り，virtual storeはONのまま残る．<br><br>って動きますよね？<br></div></section>
    <ul><li><section><h1 id=4991>
    <span class="no">[4991]</span>
    <a class="thread-title" href="#4991">Re8: パッチ状況まとめ</a>
    <span class="author">ryoji</span>
    <time datetime="2007-09-11T23:20:49">2007年09月11日 23:20</time></h1>
    <div class="body">&gt; Read : Program Files\sakuraのvirtual storeより<br>&gt; Write: ユーザプロファイルフォルダ<br>仕様(B)では本体側にそういう動作は入ってないです。<br>&gt;&gt;dev:4857 に仕様(A)-&gt;(B)のことを書いてますが、マルチユーザ設定変更時の設定ファイル（sakura.ini）の移動は手動ということにしてます。</div></section>
    <ul><li><section><h1 id=4992>
    <span class="no">[4992]</span>
    <a class="thread-title" href="#4992">Re9: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-12T00:12:23">2007年09月12日 00:12</time></h1>
    <div class="body">&gt;&gt; Read : Program Files\sakuraのvirtual storeより<br>&gt;&gt; Write: ユーザプロファイルフォルダ<br>&gt;仕様(B)では本体側にそういう動作は入ってないです。<br>確かにコードを見たときreadとwriteに同じ値しか設定されないような気がしたんですよね...<br>ということはsakura.exeがある場合は選択画面を出さないようにする必要がありますね．<br></div></section>
    <ul><li><section><h1 id=5001>
    <span class="no">[5001]</span>
    <a class="thread-title" href="#5001">Re10: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-12T23:58:22">2007年09月12日 23:58</time></h1>
    <div class="body">&gt;&gt;仕様(B)では本体側にそういう動作は入ってないです。<br>&gt;確かにコードを見たときreadとwriteに同じ値しか設定されないような気がしたんですよね... <br>&gt;ということはsakura.exeがある場合は選択画面を出さないようにする必要がありますね．<br>インストーラのコードを確認したところ，ryojiさんのおっしゃるとおりになっていました．(単に自分が忘れていただけ)<br><br>if FileExists( selectdir + 'sakura.exe' ) then<br>  begin<br>    Result := True;<br>    if GetIniInt( 'Settings', 'MultiUser', 0, 0, 1, selectdir + 'sakura.exe.ini' ) = 1 then<br>      MultiUserPage.Values[0] := True<br>    else<br>      MultiUserPage.Values[0] := False;<br>  end;<br><br>sakura.exeが存在したら，既存のsakura.exe.iniの値を読み込んで，ユーザの選択画面はスキップしています．<br><br>ということでインストーラも変更無しでOKだと思います．<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=4986>
    <span class="no">[4986]</span>
    <a class="thread-title" href="#4986">RE: パッチ状況まとめ</a>
    <span class="author">げんた</span>
    <time datetime="2007-09-10T01:57:05">2007年09月10日 01:57</time></h1>
    <div class="body">&gt;テスト版3 (1.5.17.203)以降のパッチ状況です．<br>まとめ直し．<br><br>▼Commit完了<br>*[[patches:1758102]] 画面の高さが３ライン以下でも良い 3line_or_less_2.diff<br>*[[patches:1757559]] Undoでスクロールバーが更新されない FixUndoScroll2.patch<br>*[[patches:1750637]] ダブルクリックドラッグの選択動作 DBClickDrag20070709.patch<br>*[[patches:1786543]] Junk/24 Grep 画面へのドラッグ＆ドロップ DragToGrepDlg_20070209.patch<br>*[[patches:1784912]] 次の／前のウィンドウが分割画面内で巡回動作しない FixNextWindow1.patch<br>*[[patches:1721425]] MultiUser2_5_1.patch   Vista UACとマルチユーザへの対応<br>*[[patches:1776384]] コマンドライン -Y=num FixMoveCursorEOL2_3.patch<br>*[[patches:1775980]] 改行の矢印イメージ入れ替え DrawEOL1.zip<br>*(新)[[patches:1668208]] Python用アウトライン解析 python_outline_a08.zip<br><br>▼仕様が決まらない<br>*[[patches:1742481]] bregonig.dll対応 bregonig-8.diff<br><br>▼検証待ち<br>*[[patches:1733921]] C++のAttribute対応 atloutline1.diff<br>*(更新)[[patches:1724317]] UTF-7 の読み取りミス(?) 対策＋α codechecker_fix6__r1120.tgz<br>*(更新)[[patches:1553455]] パイプやリダイレクト記号を使えるようにする ExecCommandPlus20070909_r1121a.patch<br>*(新)[[patches:1788045]] CEOL クラスの TCHAR 化パッチ<br>*(新)[[patches:1791110]] カーソル位置の縦線<br>*(新)[[patches:1791112]] 引用符で囲まれたコマンドラインオプションを許容する<br><br>▼不完全なのでとりあえず見送り<br>*[[patches:1550557]] 自動実行マクロ AutoExecMacro5_a3_1112.patch<br></div></section>
    </li></ul></li></ul></body></html>