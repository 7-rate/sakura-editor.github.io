<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="/favicon.ico">
  <title>ファイルが存在しなくても前回の文字コード | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">4693</span>
    <a class="thread-title" href="4693.html#4693">ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4694</span>
    <a class="thread-title" href="4693.html#4694">Re:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4698</span>
    <a class="thread-title" href="4693.html#4698">Re2:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4702</span>
    <a class="thread-title" href="4693.html#4702">Re3:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4703</span>
    <a class="thread-title" href="4693.html#4703">Re4:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4705</span>
    <a class="thread-title" href="4693.html#4705">Re5:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4706</span>
    <a class="thread-title" href="4693.html#4706">Re6:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4710</span>
    <a class="thread-title" href="4693.html#4710">Re7:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4711</span>
    <a class="thread-title" href="4693.html#4711">Re8:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4712</span>
    <a class="thread-title" href="4693.html#4712">Re9:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4713</span>
    <a class="thread-title" href="4693.html#4713">Re10:ファイルが存在しなくても前回の文字コード</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">4714</span>
    <a class="thread-title" href="4693.html#4714">Re9:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4720</span>
    <a class="thread-title" href="4693.html#4720">Re10:ファイルが存在しなくても前回の文字コード</a></div>
    <ul><li><div class="list-title">
    <span class="no">4721</span>
    <a class="thread-title" href="4693.html#4721">Re11:ファイルが存在しなくても前回の文字コード</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">4708</span>
    <a class="thread-title" href="4693.html#4708">Re6:ファイルが存在しなくても前回の文字コード</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li>
    </ul><ul class="main"><li><section><h1 id=4693>
    <span class="no">[4693]</span>
    <a class="thread-title" href="#4693">ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-03T22:12:39">2007年03月03日 22:12</time></h1>
    <div class="body">&gt;&gt;data:5912あたりから<br>もともとの仕様では、ファイルが存在しない場合<br>にも、前回の文字コードを意識する動作になっていた<br>ようですが私が削ってしまったようです。<br>当時、前回の文字コードを優先するモードがなかった<br>ので、あまり目立たない動作でしたが、現在の仕様では<br>前回の文字コードを継承したほうが自然な感じです。<br><br>ついでに前後の重複コードを削りました。<br>patches#1672919<br></div></section>
    <ul><li><section><h1 id=4694>
    <span class="no">[4694]</span>
    <a class="thread-title" href="#4694">Re:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-04T19:31:30">2007年03月04日 19:31</time></h1>
    <div class="body">▼ maruさん<br>&gt; &gt;&gt;data:5912あたりから<br>&gt; もともとの仕様では、ファイルが存在しない場合<br>&gt; にも、前回の文字コードを意識する動作になっていた<br>&gt; ようですが私が削ってしまったようです。<br><br>そんな事、無いですよ。ver:1.5.13.1 以前からです。<br><br>&gt; 当時、前回の文字コードを優先するモードがなかった<br>&gt; ので、あまり目立たない動作でしたが、現在の仕様では<br>&gt; 前回の文字コードを継承したほうが自然な感じです。<br><br>前回と異なる文字コードがONの場合に、履歴から削除したファイルをオープンした場合に、問い合わせていましたので、問い合わせ無くしました。<br>あと、修正前の前回のソースはコメントにして残しました。<br>Yahoo!/Developer/Source/CEditDoc_cpp_2007-02-25.diff </div></section>
    <ul><li><section><h1 id=4698>
    <span class="no">[4698]</span>
    <a class="thread-title" href="#4698">Re2:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-06T00:19:08">2007年03月06日 00:19</time></h1>
    <div class="body">&gt;&gt; 前回の文字コードを意識する動作になっていた<br>&gt;&gt; ようですが私が削ってしまったようです。<br>&gt;そんな事、無いですよ。ver:1.5.13.1 以前からです。<br><br>あせってパッチを出しましたが、それを聞いて安心しました。<br><br>ところで、動作仕様で迷う部分があります。<br><br>例えば、前回と異なる場合は問い合わせる設定になっていて、英数字のみのファイルをUTF-8で開いているとします。<br>ここでさらに、同じファイルを文字コード指定なしで開こうとしたとき、自動認識の結果ではSJISになるため、とうぜん現在の文字コードとは異なります。<br><br>この場合すでにファイルを開いているので「前回と同じ文字コードを使いますか」のメッセージは不自然ですが、かといってSJISで開く意思表示もしていないので、「既に開いているファイルを違う文字コードで開くときは、一旦閉じて…」のメッセージも早とちりな感じです。<br>一例をあげましたが、動作や設定の組み合わせ次第で他にもいくつかのこういうパターンになるみたいです。<br>従来動作では、エクスプローラからのD&amp;Dなどによる場合はメッセージなしで該当ウィンドウをアクティブにするのみですが、「開く」「最近使ったファイル」などでは「既に開いている…」メッセージ、となっているようです。<br>だだし、すでに開いているファイルが実在しない場合（排他しない設定時）ではメッセージなし、みたいです。難解(^^;;<br><br>「既に開いているファイルを…」のメッセージは編集中ファイルの意図しない破棄などを防止することが目的だと思うので、個人的には、すでにファイルを開いている場合、設定にかかわらずアクティブにするのみが分かりやすくていいと思うのですが。<br>つまり、「開き直す」以外の手段で、明示的に現在と異なる文字コードを指定して開こうとした場合にのみ「既に開いているファイルを違う文字コードで開くときは…」の警告をする。<br></div></section>
    <ul><li><section><h1 id=4702>
    <span class="no">[4702]</span>
    <a class="thread-title" href="#4702">Re3:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-06T11:51:51">2007年03月06日 11:51</time></h1>
    <div class="body">▼ maruさん<br>&gt;この場合すでにファイルを開いているので「前回と同じ文字コードを使いますか」のメッセージは不自然ですが、かといってSJISで開く意思表示もしていないので、「既に開いているファイルを違う文字コードで開くときは、一旦閉じて…」のメッセージも早とちりな感じです。<br><br>現状で良いと思います。<br>そうなりますか？　私の操作した感じでは、半角カナのみのEUCファイルがSJISと誤認識され、EUCで開き直している場合、ファイルの二重オープンは出来ません。<br>自動選択「認識」なら、編集中のウインドウが優先されますし、文字コード指定なら、「既に開いている…」のメッセージが出て、編集中のウインドウに戻ります。<br><br>参考までに、ファイルの排他制御は、◎「他プロセスからの上書きを禁止する(P)」です。<br>[v]「前回と異なる文字コードのとき問い合わせを行う(Q)」にしています。<br>リンク<br>&gt;&gt;data:5915 履歴で、削除したファイルを開く... [じゅうじ]の6)<br>&gt;&gt;data:5700 早速Closeされたので、公告 [じゅうじ]<br><br>二重オープンについては、maruさんの担当で前回直されてますよ。<br>ここは直したけど、水平的に他も心配といった事でしょうか。</div></section>
    <ul><li><section><h1 id=4703>
    <span class="no">[4703]</span>
    <a class="thread-title" href="#4703">Re4:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-03-06T13:42:04">2007年03月06日 13:42</time></h1>
    <div class="body">&gt; 例えば、前回と異なる場合は問い合わせる設定になっていて、<br>&gt; 英数字のみのファイルをUTF-8で開いているとします。<br>&gt; ここでさらに、同じファイルを文字コード指定なしで開こうとしたとき、<br>&gt; 自動認識の結果ではSJISになるため、・・・<br><br>この問題は、関数 CMemory::CheckKanjiCode に、<br>“半角英数記号ばかりでした”フラグをつけると、<br>すこし扱いやすくなれるでしょうか…？<br><br>横やり入れるようで恐縮です（f^^;）<br></div></section>
    <ul><li><section><h1 id=4705>
    <span class="no">[4705]</span>
    <a class="thread-title" href="#4705">Re5:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-06T22:24:36">2007年03月06日 22:24</time></h1>
    <div class="body">▼ じゅうじさん<br>私の中で1.5.13.1の動作とごっちゃになって勘違いしていたようで、議論がややこしくなってしまいました。すいません。<br><br>&gt;自動選択「認識」なら、編集中のウインドウが優先されますし、文字コード指定なら、「既に開いている…」のメッセージが出て、編集中のウインドウに戻ります。<br>で、結論としてはこの動作で良いんですよね？<br>現在、#1672919のパッチの動作確認を行っておりまして、仕様を確認するのが主旨です。<br><br>ところで、&gt;&gt;data:5936の「このpatch」はどの話ですか。ここの話題と関係あり？<br><br>▼ ラスティブさん<br>お気遣いありがとうございます。<br>仕様上どのように動作させるべきかという話ですので、この件に関して認識精度は影響ありません。<br></div></section>
    <ul><li><section><h1 id=4706>
    <span class="no">[4706]</span>
    <a class="thread-title" href="#4706">Re6:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-07T01:22:05">2007年03月07日 01:22</time></h1>
    <div class="body">たびたびすいません、もう一回確認させてください。1.5.13.1とそれ以降で動作が異なるようです。（１）と（２）について、それぞれどちらが正解なのでしょうか？<br><br>（１）「前回と異なる文字コードのとき問い合わせを行う」設定のときに前回SJISで開いていたファイルを、次回開くときにUTF-8を明示指定した場合、「前回と同じ文字コードを使いますか」の問い合わせを行うかどうか<br>1.5.13.1&#9;問い合わせる<br>1.5.15.2&#9;問い合わせない<br><br>（２）自動認識にてSJISと判定されるはずのファイルをUTF-8にて開いたまま、「最近使ったファイル」または「開く（文字コード自動認識）」により同一ファイルを開くと「一旦閉じてから…」を表示するかどうか<br>1.5.13.1&#9;表示する<br>1.5.15.2&#9;表示しない<br><br>ついでに気が付いたことですが、存在しないファイルを「最近使ったファイル」で開いたあと、該当のファイルが他のアプリケーションなどから生成された場合には、排他制御も更新の監視も動作しません。ただ、これは常識の範囲で当然の内容かなぁと思います。<br></div></section>
    <ul><li><section><h1 id=4710>
    <span class="no">[4710]</span>
    <a class="thread-title" href="#4710">Re7:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-08T11:32:51">2007年03月08日 11:32</time></h1>
    <div class="body">▼ maruさん<br>要するに、<br>&gt;&gt;data:5700 の後追い説明です。<br><br>（１）二重オープンでは無い場合。<br>（１．１）開く時に、前回と異なった文字コードを指定する場合でも、「前回と同じ・・・」は問い合わせないで良いと思います。なぜなら、その直前に既に文字コードを指定していますので。<br><br>（２）二重オープンの場合。<br>（２．１）最近使ったファイルから開く場合は、「いったん閉じてから…」は、表示の必要は無いと思います。<br>（２．２）自動判定で開く場合も、「前回と異なる…」がONの設定であっても、前のウインドウがアクティブになるので、「いったん閉じてから…」のメッセージは必要ないと思います。<br>（２．３）文字コード指定で開く場合のみ、「いったん閉じてから…」の警告メッセージが必要と思います。<br><br>追加（３）履歴から、削除されたファイルをオープンする場合。&gt;&gt;data:5915<br>（３．１）削除されたファイルの履歴情報はそのまま残して、（無題）SJISのウインドウを作成する。（次回ファイルの復活までそのまま）→なお、メッセージの表示は不要です。<br>（３．２）ファイルパスとファイル名と文字コードと改行コードは残して、０バイトのウインドウを作成する。（すいさん要望？）<br>後者は、強引な感じがするので、どちらかを予め選ぶチェックボックスは必要ないですか？（私はコード出来ませんが）<br><br><br>失礼、（無題）はいつでも作成出来ると、昼休みに考え直しました。<br>（３．１直り）削除されたファイルを履歴から開いた場合、「ファイルが有りません、前回と同じファイル名、文字コードで新規に作成します。[OK][Cancel]」のメッセージボックスを、<br>１）出す、２）出さないのチェックボックスを予め設定するのが良いと、思います。</div></section>
    <ul><li><section><h1 id=4711>
    <span class="no">[4711]</span>
    <a class="thread-title" href="#4711">Re8:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">ラスティブ</span>
    <time datetime="2007-03-08T13:31:01">2007年03月08日 13:31</time></h1>
    <div class="body">まとめると、こんな感じでしょうか。<br><br> -----<br>IF 開こうとするファイルが存在しない == TRUE<br>　IF 開こうとするファイルパスが履歴にない == TRUE<br>　　・デフォルト設定で、ファイルを新規作成する。<br>　ELSE<br>　　IF 使われる文字コードがユーザーから指示されている == FALSE<br>　　　・履歴の情報を元に、ファイルを新規作成する？<br>　　　　「ファイルが有りません、前回と同じファイル名、文字コードで新規に作成します。」<br>　　　　というようなメッセージボックスを表示する？<br>　　ELSE<br>　　　・指示されている文字コードで、ファイルを新規作成する？<br>　　　　前回と異なる文字コードのとき問い合わせを行う」設定がオンのときは、<br>　　　　履歴の情報がユーザーの指示と違っていたら問い合わせる？<br>　　ENDIF<br>　ENDIF<br>ELSE<br>　IF 開こうとするファイルパスが履歴にない == TRUE<br>　　・適当に自動判別してファイルを開く。<br>　ELSE<br>　　IF 二重オープンしようとしている == FALSE<br>　　　・履歴の情報を元に、ファイルを開く。<br>　　　　前回と異なる文字コードのとき問い合わせを行う」設定がオンのときは、<br>　　　　履歴の情報が自動認識と違っていたら問い合わせがある。<br>　　ELSE<br>　　　・「いったん閉じてからやりなおして」みたいなメッセージを出して、<br>　　　　操作を中止させる？<br>　　　・文字コード指定で開く場合のみ中止させる？<br>　　ENDIF<br>　ENDIF<br>ENDIF<br> -----<br></div></section>
    <ul><li><section><h1 id=4712>
    <span class="no">[4712]</span>
    <a class="thread-title" href="#4712">Re9:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-08T14:46:31">2007年03月08日 14:46</time></h1>
    <div class="body">▼ラスティブ さん<br>&gt; まとめると、こんな感じでしょうか。<br><br>拡張するとしたら、このような、図になります。<br><br>削除されたファイルが開けるのは、「最近使ったファイル(F)」から、のみだと思います。<br>履歴から開くと、今まで言っていたのは、この意味ですので、以後区別して発言します。<br>履歴には、文字コードが既に記録され、指定されているので、且つ<br>削除されたファイルの文字コードは、もはや自動認識出来ないので、前回との比較も無く。<br><br> -----<br>IF 開こうとするファイルが存在しない == TRUE<br>　(削除）<br>｜・履歴の情報を元に、ファイルを新規作成する？キャンセル？－－のダイアログボックス<br>｜｜「ファイルが有りません、前回と同じファイル名、文字コードで新規に作成します。」<br>｜｜というようなメッセージボックスを表示する？しない？－－のチェックボックス<br>　(削除）<br>ELSE<br>　(省略）<br>ENDIF<br> -----</div></section>
    <ul><li><section><h1 id=4713>
    <span class="no">[4713]</span>
    <a class="thread-title" href="#4713">Re10:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-09T00:06:11">2007年03月09日 00:06</time></h1>
    <div class="body">えっと、さっき気が付きましたが、おもいっきり作業がかぶってますね…。&gt;&gt;dev:4693 &gt;&gt;:4694<br>しかも、なぜかINCMからは4694の後半部分がバサッと抜けてしまっており、CEditDoc_cpp_2007-02-25.diff に気が付きませんでした。<br>どおりで話が微妙にかみ合わないと思った。<br><br>気を取り直して(^^;; 本題に入ります。<br><br>▼ラスティブ さん<br>&gt; まとめると、こんな感じでしょうか。<br>&gt; IF 開こうとするファイルが存在しない == TRUE<br>排他制御しない設定では、ファイルが存在しなくても既に開いている、という状況が発生します。<br><br>▼じゅうじ さん<br>&gt;削除されたファイルが開けるのは、「最近使ったファイル(F)」から、のみだと思います。<br>ファイルが存在しなくても、履歴と異なる可能性もあるのでは？コマンドライン指定やマクロによる文字コード指定で。<br><br>▼どなたか…<br>元々持っていたバグのようですが、ファイルが存在しなくて、且つすでに開いているファイルを「開き直す」した場合、m_nCharCodeだけ書き換えてReloadには失敗するので、おかしくなりますね。<br>バグの件はとりあえず報告だけです。しばらくはペースダウンしそうなので、今すぐには手を付けられません。<br></div></section>
    </li></ul></li><li><section><h1 id=4714>
    <span class="no">[4714]</span>
    <a class="thread-title" href="#4714">Re9:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-09T14:23:03">2007年03月09日 14:23</time></h1>
    <div class="body">&gt; まとめると、こんな感じでしょうか。<br><br>拡張するとしたら、このような、図になります。<br>▼ maruさん<br><br>コマンドラインの件、無視していました、失礼しました。<br>チェックボックスは既に有りました、見落としていました。<br>[ ] 開こうとしたファイルが存在しないとき警告する(E)<br><br> -----<br>IF 開こうとするファイルが存在しない == TRUE<br>｜IF 開こうとしたファイルが存在しないとき警告する(E)が、ONの場合<br>｜｜・「○○というファイルは存在しません。ファイルを保存…」を表示<br>｜ENDIF<br>｜｜<br>｜IF 開こうとするファイルパスが履歴に無い(コマンドラインから開く) == TRUE<br>｜｜IF 文字コードがユーザーから指示されていない == TRUE<br>｜｜｜・デフォルトの文字コードS-JISで、ウインドウを新規作成する。<br>｜｜ELSE<br>｜｜｜・指示されている文字コードで、ウインドウを新規作成する。<br>｜｜ENDIF<br>｜ELSE<br>｜｜IF 文字コードがユーザーから指示されていない == TRUE<br>｜｜｜・履歴の情報を元に、ウインドウを新規作成する。<br>｜｜ELSE (コマンドラインから開く)<br>｜｜｜・指示されている文字コードで、ウインドウを新規作成する。--- ①<br>｜｜｜　履歴の文字コード情報を更新する<br>｜｜ENDIF<br>｜ENDIF<br>ELSE-IF 開き直す(W)から開く（文字コード指定） == TRUE<br>｜　・指示されている文字コードで、表示し直す<br>｜　　ステータスバーと、履歴の文字コード情報を更新する<br>ELSE<br>｜（省略）<br>ENDIF<br> -----<br><br>① ファイルが存在しない時は「前回と異なる文字コード」の問い合わせは必要無い？<br>　既に、コマンドラインで文字コードを指定・指示している為。<br></div></section>
    <ul><li><section><h1 id=4720>
    <span class="no">[4720]</span>
    <a class="thread-title" href="#4720">Re10:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-10T19:34:17">2007年03月10日 19:34</time></h1>
    <div class="body">以前の記憶をさかのぼりながらソースを読んでみたところ、いくつか分かったことがあります。<br><br>１．&gt;&gt;data:4706の（１）について<br>これは「問い合わせる」が正解と考えます。<br>問題となる「前回と異なる文字コードのとき問い合わせを行う」の設定ですが、これまでは「‘自動認識の結果が’前回と異なるとき」が通説とされてきましたが、実際には単に「前回と異なるとき」でした。(1.5.13.1で確認)<br>具体的に説明すると<br>・文字コード指定なしの場合：自動認識の結果が前回と異なるときに発動<br>・文字コード指定ありの場合：指定された文字コードが前回と異なるときに発動<br>です。<br>これらの状況から、もともと自動認識はあまり関係ありませんでしたので、従来機能を継承する意味では、「問い合わせる」が良さそうです。<br><br>２．&gt;&gt;data:4706の（２）「…一旦閉じて…」について<br>「表示しない」が多分正解です。<br>じゅうじさんが&gt;&gt;data:5700で解説されていますが、ちょっと補足が必要です。<br>&gt;現在オープンしているファイルを、違う文字コードで二重オープンしようとすると、ワーニングのダイアログが出る時と、出ない時が有りますので、無くします。<br>実際には元々の仕様では、違う文字コードで二重オープンしようとしたとき、必ずワーニングが出るようにしたかったのだと思います。<br>二重オープンを考えるとき、前回の文字コードとは現在の文字コードのことを指しますので、旧仕様における「前回と異なるとき…」無効時は、自動認識が優先され、現在開いている文字コードは無視されます。そこで自動認識結果と現在の文字コードが違う場合はワーニングを出す必要があったわけです。ところが、おそらく勘違いで自動認識が優先されない設定のときにワーニング、というコーディングになっていました。<br>で、1.5.14.0以降自動認識を優先する動作はなくなったため、文字コード指定する以外に違う文字コードによる二重オープンのケースはほぼありませんので、「表示しない」が妥当かと。<br></div></section>
    <ul><li><section><h1 id=4721>
    <span class="no">[4721]</span>
    <a class="thread-title" href="#4721">Re11:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">maru</span>
    <time datetime="2007-03-10T19:35:30">2007年03月10日 19:35</time></h1>
    <div class="body">&gt;&gt;dev:2720の続きです<br><br>３．「前回と異なる…」機能について<br>従来は誤認識対策として説明されてきましたが、&gt;&gt;dev:2720の１でも説明したとおり本来目的がちょっと違っているようですので、1.5.14.0以降の仕様検討において考え方を変える必要がありそうです。<br>もちろん自動認識機能の誤認識対策としての側面もあったでしょう。そうすると『自動認識が間違っている可能性もあるので、前回の文字コードも選択できるように』ということだったのであれば、前回を優先する現在仕様においては、『前回開いた文字コードが間違っている可能性があるので、自動認識結果も選択できるように』という意味になってしまいます。<br>現実にはそんなことはほとんど発生せず、意図的にイレギュラーな文字コードで開いたと考えるのが妥当ですので、これに対するリカバリは「開き直す」を使うべきでしょう。むしろ、比較的精度の良いはずの自動認識機能にて誤認識した際のマイナス要素を露呈ためだけのチェックボックスともなりかねません。私個人としては、履歴に記録された文字コードは自動認識精度をより高めるための補正データとして考えた方が良さそうに思います。<br>例えば「前回と異なる文字コードのとき問い合わせを行う」を廃止して「以前開いた文字コードを自動認識補正のために利用する」に変更するなど。<br><br>４．ファイルが存在しない時の「前回と異なる文字コード」の問い合わせ<br>私の考えでは、原則としてファイルの有無にかかわらず履歴を優先すべきと思います<br>よって仕様としては、ここでも問い合わせがあった方が分かりやすいし、ソースもシンプルかと。<br>一方ユーザビリティの面では意見が別れそうですが、さすがにファイルがない状態で文字コード指定された場合は、例外的に履歴を無視しても実害はないと思います。<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=4708>
    <span class="no">[4708]</span>
    <a class="thread-title" href="#4708">Re6:ファイルが存在しなくても前回の文字コード</a>
    <span class="author">じゅうじ</span>
    <time datetime="2007-03-07T09:01:59">2007年03月07日 09:01</time></h1>
    <div class="body">▼ maruさん<br>&gt; ところで、&gt;&gt;data:5936の「このpatch」はどの話ですか。ここの話題と関係あり？<br><br>▼ 2007/3/4 (日) 19:31:30 じゅうじ  返信　削除 <br>[dev:4694] Re:ファイルが存在しなくても前回の文字コード <br>前回と異なる文字コードがONの場合に、履歴から削除したファイルをオープンした場合に、問い合わせていましたので、問い合わせ無くしました。<br>あと、修正前の前回のソースはコメントにして残しました。<br>Yahoo!/Developer/Source/CEditDoc_cpp_2007-02-25.diff <br> <br>です。&gt;&gt;data:5936に、返信ありがとうございます。</div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></body></html>