<!DOCTYPE html><html><head><meta charset='utf-8'><title>ssrc_2002-01-22.zip</title><link rel='stylesheet' href='../bbs.css' /><script src='../bbs.js'></script><body><ul class="side"><a href="./" class="toindex">←ANSI版開発トップへ</a><li><div class="list-title">
    <span class="no">1270</span>
    <a class="title" href="1270.html#1270">ssrc_2002-01-22.zip</a></div>
    <ul><li><div class="list-title">
    <span class="no">1287</span>
    <a class="title" href="1270.html#1287">Re:ssrc_2002-01-22.zip</a></div>
    <ul><li><div class="list-title">
    <span class="no">1292</span>
    <a class="title" href="1270.html#1292">タイトルのちらつき抑制</a></div>
    <ul><li><div class="list-title">
    <span class="no">1294</span>
    <a class="title" href="1270.html#1294">Re:タイトルのちらつき抑制</a></div>
    <ul><li><div class="list-title">
    <span class="no">1295</span>
    <a class="title" href="1270.html#1295">Re:タイトルのちらつき抑制</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">1301</span>
    <a class="title" href="1270.html#1301">Re: タイトルのちらつき抑制</a></div>
    <ul><li><div class="list-title">
    <span class="no">1302</span>
    <a class="title" href="1270.html#1302">Re2: タイトルのちらつき抑制</a></div>
    <ul><li><div class="list-title">
    <span class="no">1307</span>
    <a class="title" href="1270.html#1307">重複したコード</a></div>
    </li></ul></li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">1298</span>
    <a class="title" href="1270.html#1298">RE: ssrc_2002-01-22.zip</a></div>
    <ul><li><div class="list-title">
    <span class="no">1303</span>
    <a class="title" href="1270.html#1303">Re2: ssrc_2002-01-22.zip</a></div>
    </li><li><div class="list-title">
    <span class="no">1310</span>
    <a class="title" href="1270.html#1310">ファイル構成</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">1300</span>
    <a class="title" href="1270.html#1300">Re:ssrc_2002-01-22.zip</a></div>
    <ul><li><div class="list-title">
    <span class="no">1306</span>
    <a class="title" href="1270.html#1306">Re:ssrc_2002-01-22.zip</a></div>
    <ul><li><div class="list-title">
    <span class="no">1311</span>
    <a class="title" href="1270.html#1311">Re2:ssrc_2002-01-22.zip</a></div>
    </li></ul></li></ul></li></ul></li></ul><ul class="main"><li><section><h1 id=1270>
    <span class="no">[1270]</span>
    <a class="title" href="#1270">ssrc_2002-01-22.zip</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-22T18:26:02">2002年01月22日 18:26</time></h1>
    <div class="body">久しぶりに？アップロードしました。<br><br>・外部マクロをツールバーに登録したときにアイコンが表示されるように変更。<br>　horさん、ありがとうございます。<br><br>・キー入力するたびにタイトルバーが再描画されないように変更。<br>　少し動作速度が改善された。かな？<br>　（GetWindowTextせずに、CEditDocがキャプションを保持するように変更しました）<br>　gaeさん、みくさんありがとうございます。<br>　げんたさんがおっしゃっていた理想の実装はしていません。どなたか～。<br><br>・[タイプ別設定]-[スクリーン]-「SPACEの挿入」で表示されるヘルプが【文字色】になってます。<br>　指摘したhorさん、修正したみくさんに感謝。<br><br>・正規表現を//を使わなくてもいいように修正。<br>　（でもまだ、日本語はうまく使えないみたい。）<br>　noviceさん、ありがとうございます。多謝。<br><br>・置換ダイアログで、正規表現の()と$1,$2...を使えるように修正。<br>　noviceさん、ありがとうございます。多謝。<br><br>・OnPopupHelpをCDialogクラスに移動した。<br>　指摘したげんたさん、実装したみくさんに感謝。<br><br><br>以上です（よね？^^;）<br>わたしは、特にnoviceさんの正規表現の修正が非常にありがたかったです。<br>引き続きどうぞよろしく～。<br></div></section>
    <ul><li><section><h1 id=1287>
    <span class="no">[1287]</span>
    <a class="title" href="#1287">Re:ssrc_2002-01-22.zip</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-23T01:26:39">2002年01月23日 01:26</time></h1>
    <div class="body">▼ やざきさん<br>&gt; 　げんたさんがおっしゃっていた理想の実装はしていません。<br>とりあえずファイルの編集だけ終了。動作確認後UPします。次の夜かな？<br><br>CEditDoc, CEditViewあたりにあちこち手が入ります。(と予告)<br></div></section>
    <ul><li><section><h1 id=1292>
    <span class="no">[1292]</span>
    <a class="title" href="#1292">タイトルのちらつき抑制</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-23T10:00:04">2002年01月23日 10:00</time></h1>
    <div class="body">&gt;CEditDoc, CEditViewあたりにあちこち手が入ります。(と予告)<br>できました．title_noflick.zipです．<br><br>やざきさんの変更部分をコメントアウトしましたが，タイトルのちらつきは起こりません．<br><br>＃ 次はルーラーが何とかならないかな．<br><br>--<br>やざきさんへ:<br>SetParentCaptionの中で4カ所も同じコードを追加していましたが，4カ所も書いたらなんか変だな？って思ってくださいよ．あれ，関数の最後で1回書けば十分でしょ．<br><br>もうコメントアウトしちゃいましたけど，一応直しました．<br></div></section>
    <ul><li><section><h1 id=1294>
    <span class="no">[1294]</span>
    <a class="title" href="#1294">Re:タイトルのちらつき抑制</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-23T11:23:53">2002年01月23日 11:23</time></h1>
    <div class="body">▼ げんたさん<br>&gt; やざきさんへ:<br>&gt; SetParentCaptionの中で4カ所も同じコードを追加していましたが，4カ所も書いたらなんか変だな？って思ってくださいよ．あれ，関数の最後で1回書けば十分でしょ．<br><br>嫌です :-(<br>そこまで要求しないでください。<br><br>いままで私もサクラのソース中で、重複コードを山ほど見ていますが、<br>重複コードを書いた人を批判しようとは毛頭思いません。<br><br>＃そもそもげんたさんも、変だなって思えるくらいだったら、ほかの重複コードを退治することに力を注いで欲しいですね。<br>＃なぜやらないんですか？ :-p （と突っかけてみる）</div></section>
    <ul><li><section><h1 id=1295>
    <span class="no">[1295]</span>
    <a class="title" href="#1295">Re:タイトルのちらつき抑制</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-23T12:51:06">2002年01月23日 12:51</time></h1>
    <div class="body">▼やざきさん<br>&gt;嫌です :-(<br>&gt;そこまで要求しないでください。<br><br>修正を加えるときは関数全体を理解した上で見直さないと直したつもりでバグを埋め込む（特にメモリ系が危険）可能性があります．今回のも流れを見れば1つにまとめられることにすぐ気づきそうだと思ったので．<br><br>&gt;いままで私もサクラのソース中で、重複コードを山ほど見ていますが、<br>&gt;重複コードを書いた人を批判しようとは毛頭思いません。<br>既にある物はしょうがないですけど，悪い部分を真似するのはやめてねってことで．経験上，真似して欲しくないコードばかり真似されてCUT&amp;PASTEで増殖するような気がしますので．<br><br>同じコードが複数箇所にあると，片方だけ修正されてもう一方が忘れられる可能性があるので保守性が下がります．ですから基本的には複数行のCut &amp; Pasteをしようと思ったら考え直して欲しいです．<br><br>&gt;＃ほかの重複コードを退治することに力を注いで欲しいですね。<br>&gt;＃なぜやらないんですか？ :-p （と突っかけてみる）<br>まぁバグじゃないですからねぇ．<br>・気づいたときに直す<br>・これ以上増やさない<br>でいいと思いますが．<br></div></section>
    </li></ul></li><li><section><h1 id=1301>
    <span class="no">[1301]</span>
    <a class="title" href="#1301">Re: タイトルのちらつき抑制</a>
    <span class="author">gae</span>
    <time datetime="2002-01-23T22:02:53">2002年01月23日 22:02</time></h1>
    <div class="body">&gt; やざきさんへ:<br>&gt; SetParentCaptionの中で4カ所も同じコードを追加していましたが，4カ所も書いたらなんか変だな？って思ってくださいよ．あれ，関数の最後で1回書けば十分でしょ．<br><br>2人の関係はよくしりませんが、<br>その言い方はよくないですよ(汗)<br><br>このソースは僕も見たところだったので書きますが、<br>無駄だと思いつつも何か理由があるのかな？と思って、<br>手元では冗長なコードにしていましたし。<br><br>もうちょっとまったり行きましょう(笑)<br><br>反映ありがとうございました＞やざきさん<br></div></section>
    <ul><li><section><h1 id=1302>
    <span class="no">[1302]</span>
    <a class="title" href="#1302">Re2: タイトルのちらつき抑制</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-23T22:27:58">2002年01月23日 22:27</time></h1>
    <div class="body">▼ gaeさん<br>&gt; もうちょっとまったり行きましょう(笑)<br><br>わーい、仲裁？ありがとうございますぅ(^-^)&gt; gaeさん。<br><br>そうそうまったり行こう。自分のペースで。</div></section>
    <ul><li><section><h1 id=1307>
    <span class="no">[1307]</span>
    <a class="title" href="#1307">重複したコード</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-24T00:28:15">2002年01月24日 00:28</time></h1>
    <div class="body">&gt;そうそうまったり行こう。自分のペースで。<br>やざきさんが一番ペースが速くてついていけん...(笑)<br>一応みなさんが変更した点は全てチェックするつもりで見ておりますが，ソースの増加速度が速いので間違いを見落としているかもしれません．<br><br>重複したコードの件ですが，最近ファイルサイズが増加の一途をたどることを個人的に気に病んでいたものですから無駄が気になってしまいました．私もあまり良くないと思いつつそのままにしてあるところがありますが，一応「暫定」って（自分に言い訳するために）書いてあります．(まだ直したことありません^^;)<br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li><li><section><h1 id=1298>
    <span class="no">[1298]</span>
    <a class="title" href="#1298">RE: ssrc_2002-01-22.zip</a>
    <span class="author">みく</span>
    <time datetime="2002-01-23T21:35:37">2002年01月23日 21:35</time></h1>
    <div class="body">&gt;タイトル: ssrc_2002-01-22.zip<br>&gt;発言者: やざき<br><br>DLLとEXEを分割ビルドするほうのプロジェクトに,<br>新しく追加になったファイルが登録されていません。<br></div></section>
    <ul><li><section><h1 id=1303>
    <span class="no">[1303]</span>
    <a class="title" href="#1303">Re2: ssrc_2002-01-22.zip</a>
    <span class="author">やざき</span>
    <time datetime="2002-01-23T22:28:48">2002年01月23日 22:28</time></h1>
    <div class="body">▼ みくさん<br>&gt; &gt;タイトル: ssrc_2002-01-22.zip<br>&gt; &gt;発言者: やざき<br>&gt; <br>&gt; DLLとEXEを分割ビルドするほうのプロジェクトに,<br>&gt; 新しく追加になったファイルが登録されていません。<br><br>くは。鋭いっすね。分割ビルドって需要がある？<br>無いならなくしちゃおう。（だめ？）</div></section>
    </li><li><section><h1 id=1310>
    <span class="no">[1310]</span>
    <a class="title" href="#1310">ファイル構成</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-24T09:45:38">2002年01月24日 09:45</time></h1>
    <div class="body">ついでに一言．<br>今回のWinMainの見直しでファイル名は同じでも跡形もなく中身が変わってしまったので，WinMain.cppもsakura_coreに移動してもいいんじゃないでしょうか．ここまで変わるとそれ以前との差分とか全く意味をなしませんし．<br><br>あとvc_oneに入っているプロジェクトファイルもsakuraディレクトリに移動すればsakuraにプロジェクトファイル，sakura_coreにソースファイルときれいに分かれます．<br><br>ただし，sakuraoneの方は中間ファイル用ディレクトリの名前を変えておかないと．(Release_oneとDebug_oneかな)<br><br>その場合も生成される実行ファイルの名前はsakura.exeにした方が面倒くさくないと思います．<br></div></section>
    </li></ul></li><li><section><h1 id=1300>
    <span class="no">[1300]</span>
    <a class="title" href="#1300">Re:ssrc_2002-01-22.zip</a>
    <span class="author">hor</span>
    <time datetime="2002-01-23T22:02:28">2002年01月23日 22:02</time></h1>
    <div class="body">最近つかったファイルにないファイルを開いたあとに<br>「ファイル」-「文字コードセット」-「～で開き直す」を実行すると<br>一行目にマークがついてしまうバグがありました。<br><br>CEditDoc.cpp(title_noflick.zip)の 721 行目に以下の行を挿入下さい。<br><br>if(!bIsExistInMRU)strcpy(fi.m_szMarkLines,"");&#9;//2002.01.23</div></section>
    <ul><li><section><h1 id=1306>
    <span class="no">[1306]</span>
    <a class="title" href="#1306">Re:ssrc_2002-01-22.zip</a>
    <span class="author">げんた</span>
    <time datetime="2002-01-24T00:28:15">2002年01月24日 00:28</time></h1>
    <div class="body">▼horさん<br>&gt;一行目にマークがついてしまうバグがありました。<br>この前sakura.iniを見たらマークのところに明らかにポインタを間違えたかのようなでたらめな文字列が入っていたのを見たことがありますが，これと同じ原因ですか？ それとももう直っているのかな．<br><br>＃ 再現させようと思ってもうまくいかないんだよなぁ．<br></div></section>
    <ul><li><section><h1 id=1311>
    <span class="no">[1311]</span>
    <a class="title" href="#1311">Re2:ssrc_2002-01-22.zip</a>
    <span class="author">hor</span>
    <time datetime="2002-01-24T09:46:52">2002年01月24日 09:46</time></h1>
    <div class="body">▼ げんたさん<br>&gt; ▼horさん<br>&gt; &gt;一行目にマークがついてしまうバグがありました。<br>&gt; この前sakura.iniを見たらマークのところに明らかにポインタを間違えたかのような<br>&gt; でたらめな文字列が入っていたのを見たことがありますが，これと同じ原因ですか？<br>&gt; それとももう直っているのかな．<br><br>ssrc_2002-01-17.zipの時はバッファサイズのミスがあったので、それが原因だったのかも…<br><br>ただ、CDocLineMgr::SetBookMarks と CDocLineMgr::GetBookMarks は、<br>かなり適当にコーディングしてますので、どなたか修正していただけたらな…と思います。</div></section>
    </li></ul></li></ul></li></ul></li></ul></body></html>