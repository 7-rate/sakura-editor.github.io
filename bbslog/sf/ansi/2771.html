<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-120820034-1');
  </script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="favicon.ico">
  <title>置換対象 | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀ANSI版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">2771</span>
    <a class="thread-title" href="2771.html#2771">置換対象</a></div>
    <ul><li><div class="list-title">
    <span class="no">2799</span>
    <a class="thread-title" href="2771.html#2799">選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2801</span>
    <a class="thread-title" href="2771.html#2801">Re:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2870</span>
    <a class="thread-title" href="2771.html#2870">Re2:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2873</span>
    <a class="thread-title" href="2771.html#2873">Re3:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2875</span>
    <a class="thread-title" href="2771.html#2875">Re4:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2882</span>
    <a class="thread-title" href="2771.html#2882">Re5:選択終点追加</a></div>
    </li></ul></li><li><div class="list-title">
    <span class="no">2878</span>
    <a class="thread-title" href="2771.html#2878">Re4:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2879</span>
    <a class="thread-title" href="2771.html#2879">Re5:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2880</span>
    <a class="thread-title" href="2771.html#2880">Re6:選択終点追加</a></div>
    <ul><li><div class="list-title">
    <span class="no">2881</span>
    <a class="thread-title" href="2771.html#2881">Re7:選択終点追加</a></div>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li>
    </ul><ul class="main"><li><section><h1 id=2771>
    <span class="no">[2771]</span>
    <a class="thread-title" href="#2771">置換対象</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-05-18T08:12:37">2003年05月18日 08:12</time></h1>
    <div class="body">Ver. 1.3.9.1<br>例えば、HTMLファイルの編集で選択終点追加を行った場合です。<br><br>置換前　&gt;<br>置換後　aaa<br>正規表現　チェック<br>置換対象　選択終点追加<br>範囲　ファイル全体<br>実行　置換ボタン,置換ボタン,置換ボタン,...<br><br>置換後文字列の後に、常にCR+LFが入ってしまいます。<br>選択始点挿入と、正規表現にチェックがない場合は、問題ありません。<br><br>＜対処方法＞<br>[2001] RE: 置換について <br>▽ 2002/6/10 (月) 22:48:17 みく <br>data&amp;ol=200206#2001<br><br>実行が「すべて置換」では別に、結果的に何も行わないという問題があります。<br></div></section>
    <ul><li><section><h1 id=2799>
    <span class="no">[2799]</span>
    <a class="thread-title" href="#2799">選択終点追加</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-05-24T11:13:39">2003年05月24日 11:13</time></h1>
    <div class="body">再度の報告になります。<br>Ver. 1.3.9.1 test_20030522<br><br>テストパターン<br>------<br>aabb<br>bbaa<br>------<br>選択対象　選択終点追加<br>正規表現　チェック<br>実行　すべて置換（置換の場合も）<br><br>置換前　「a」<br>置換後　「X」<br>置換結果<br>-------<br>aXaXbb<br>bbaXaX<br>-------<br><br>置換前　「b」<br>置換後　「X」<br>置換結果<br>-------<br>aabb<br>Xbbaa<br>X-------<br><br>検索文字に最初にマッチした文字が行末の場合、改行の後に文字が追加されるようです。<br>改行文字は、CF+LFとLF+CRの場合が問題で、CRのみとLFのみの場合は問題ありません。</div></section>
    <ul><li><section><h1 id=2801>
    <span class="no">[2801]</span>
    <a class="thread-title" href="#2801">Re:選択終点追加</a>
    <span class="author">かろと</span>
    <time datetime="2003-05-24T17:19:40">2003年05月24日 17:19</time></h1>
    <div class="body">▼ 蒔田　信幸さん<br>&gt; 再度の報告になります。<br>&gt; Ver. 1.3.9.1 test_20030522<br>&gt; 検索文字に最初にマッチした文字が行末の場合、改行の後に文字が追加されるようです。<br>&gt; 改行文字は、CF+LFとLF+CRの場合が問題で、CRのみとLFのみの場合は問題ありません。<br><br>言われている例の通りにならなかったですが、なんだか直感に合わない動きをするのは理解しました。<br>理由はわかりませんが、ソース上も終点追加の時は、改行のところで特殊な処理が入ってます。<br>この辺りを修正する必要がありそうですが、私自身まだ「始点挿入」「終点追加」のところを<br>理解しきれていないので、ちょっと時間をください。<br><br></div></section>
    <ul><li><section><h1 id=2870>
    <span class="no">[2870]</span>
    <a class="thread-title" href="#2870">Re2:選択終点追加</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-06-19T23:08:52">2003年06月19日 23:08</time></h1>
    <div class="body">▼ かろとさん<br><br>V sakura_test_20030618<br>試してみましたので、ご報告致します。<br><br>個人的な希望としては、何れかの改行コードで<br>------<br>from aa-rn to aa-rn[CR+LF]<br>------<br>と1行になって欲しいのですが。<br><br>1.cr+lfの場合<br>------<br>aa-rn[CR+LF]<br>------<br>置換前「[^\r]*」　置換後「from $&amp; to $&amp;」<br>1.の結果<br>------<br>from aa-rn to aa-rnfrom  to [CR+LF]<br>------<br>置換対象●選択文字　■正規表現　範囲●ファイル全体 「すべて置換」で実行<br><br>ヘルプには次のように有ります。<br>&lt;B&gt;「正規表現の注意」&lt;/B&gt;<br>サクラエディタで改行を検索する場合は、<br>&lt;B&gt;\r　　キャリッジリターン&lt;/B&gt;<br>で検索して下さい。<br><br>しかし「.」には、(\r)は含まれて、(\n)は含まれない様子です。<br>&lt;B&gt;\n　　ラインフィード&lt;/B&gt;<br>の間違いではないでしょうか？<br><br>では、お元気で。</div></section>
    <ul><li><section><h1 id=2873>
    <span class="no">[2873]</span>
    <a class="thread-title" href="#2873">Re3:選択終点追加</a>
    <span class="author">かろと</span>
    <time datetime="2003-06-20T00:47:07">2003年06月20日 00:47</time></h1>
    <div class="body">&gt;置換前「[^\r]*」　置換後「from $&amp; to $&amp;」<br>&gt;from aa-rn to aa-rnfrom  to [CR+LF]<br><br>「[^\r]*」が、０文字にマッチするので、<br> aa-rn と、次の０文字にマッチした結果とみれば、置換結果はそれなりだと思います。<br><br>&gt;from aa-rn to aa-rn[CR+LF]<br>&gt;と1行になって欲しいのですが。<br><br>０文字にマッチしないように検索しないと・・・あかんように思います。<br><br><br>&gt;しかし「.」には、(\r)は含まれて、(\n)は含まれない様子です。<br><br>ん？「.」は、\rが含まれて、\nが含まれないのは合っているのでは？<br><br>&gt;&lt;B&gt;\n　　ラインフィード&lt;/B&gt;<br>&gt;の間違いではないでしょうか？<br><br>\rと書かれているのは、ヘルプが更新されていないからだと思いますが、<br>\n で検索してもだめですので、それも間違いです。<br>現在のサクラの改行コードは、\r\n, \r, \n 等がありだからです。<br><br>私も知らないのですが、昔のサクラは \r が改行コードだったようです。<br>ヘルプの「改行コードについて」のところに、<br>【アンドゥ・リドゥバッファへの改行コード格納形式<br>前バージョンは改行コードを\rで表現していた。<br>新バージョンはCRLFやLFCR等をそのまま格納する。】<br>という記述があります。<br></div></section>
    <ul><li><section><h1 id=2875>
    <span class="no">[2875]</span>
    <a class="thread-title" href="#2875">Re4:選択終点追加</a>
    <span class="author">すい</span>
    <time datetime="2003-06-20T01:03:18">2003年06月20日 01:03</time></h1>
    <div class="body">&gt;&gt;&lt;B&gt;\n　　ラインフィード&lt;/B&gt;<br>&gt;&gt;の間違いではないでしょうか？<br>&gt;<br>&gt;\rと書かれているのは、ヘルプが更新されていないからだと思いますが、<br>&gt;\n で検索してもだめですので、それも間違いです。<br>&gt;現在のサクラの改行コードは、\r\n, \r, \n 等がありだからです。<br>&gt;<br>&gt;私も知らないのですが、昔のサクラは \r が改行コードだったようです。<br><br>これはですねえ、昔はこのエディタは正規表現の処理を JRE32.DLL で<br>やっていて、その時の動作の記述です。<br>正規表現ライブラリが BREGEXP.DLL になってから \r と \n に分かれた<br>今の仕様になりました。<br><br>で、ヘルプは全くといって良いほど内容が更新されていないので、昔の記述が<br>残ったままになっているのです。特に検索がらみの正規表現に関する所は<br>他もあちこち、殆どすべての箇所が JRE32.DLL の記述のままになっています。<br># JRE32.DLL に関する機能の説明をしている所で、ところどころに BREGEXP.DLL<br># という名前が登場しているような感じです。<br>ですので、内容見てもあまり役にたたないです。<br></div></section>
    <ul><li><section><h1 id=2882>
    <span class="no">[2882]</span>
    <a class="thread-title" href="#2882">Re5:選択終点追加</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-06-22T13:27:08">2003年06月22日 13:27</time></h1>
    <div class="body">▼ すいさん<br>▼ かろとさん<br>ありがとうございます。いろいろ参考になりました。<br>-------<br>aa-n[LF]<br>-------<br>「^.*」→「from $&amp; to $&amp;」の置換で、<br>-------<br>from aa-n to aa-n[LF]<br>-------<br>で終わらせたいと思います。</div></section>
    </li></ul></li><li><section><h1 id=2878>
    <span class="no">[2878]</span>
    <a class="thread-title" href="#2878">Re4:選択終点追加</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-06-21T02:22:55">2003年06月21日 02:22</time></h1>
    <div class="body">▼ かろとさん<br>&gt; 「[^\r]*」が、０文字にマッチするので、<br>&gt;  aa-rn と、次の０文字にマッチした結果とみれば、置換結果はそれなりだと思います。<br><br>早速のご返答感謝致します。<br>参考になりましたので、答えが解りました。<br><br>1.「[^\r]*」→「from $&amp; to $&amp;」<br>2.「from  to $」→「」<br>の二段階でうまく行きました。<br><br>いつも開発、ご苦労様です。<br>やっと、ここまで出来るようになったと思います。</div></section>
    <ul><li><section><h1 id=2879>
    <span class="no">[2879]</span>
    <a class="thread-title" href="#2879">Re5:選択終点追加</a>
    <span class="author">かろと</span>
    <time datetime="2003-06-21T07:31:32">2003年06月21日 07:31</time></h1>
    <div class="body">&gt;1.「[^\r]*」→「from $&amp; to $&amp;」<br>&gt;2.「from  to $」→「」<br>&gt;の二段階でうまく行きました。<br><br>この例を見ると、<br>* でなく、 + なら１段階になりそうな気がします。(^^;<br></div></section>
    <ul><li><section><h1 id=2880>
    <span class="no">[2880]</span>
    <a class="thread-title" href="#2880">Re6:選択終点追加</a>
    <span class="author">蒔田　信幸</span>
    <time datetime="2003-06-22T02:49:54">2003年06月22日 02:49</time></h1>
    <div class="body">▼ かろとさん<br>&gt; &gt;1.「[^\r]*」→「from $&amp; to $&amp;」<br>&gt; &gt;2.「from  to $」→「」<br>&gt; &gt;の二段階でうまく行きました。<br>&gt; <br>&gt; この例を見ると、<br>&gt; * でなく、 + なら１段階になりそうな気がします。(^^;<br><br>「^[^\r]*」→「from $&amp; to $&amp;」で、１段階でもうまく行きました。　☆三<br><br>処で、検索文字の「.」は、現状の「[^\n]」と同じではなく、「[^\r\n]」と同じではないかと思いますが。<br>例えば、<br>---------<br>aa[CR+LF]　が、<br>---------<br>「[^\r\n]*」→「from $&amp; to $&amp;」の置換で、<br>---------<br>from aa to aafrom  to [CR+LF]<br>---------<br>となるのはどうしてでしょうか。(バグ？)</div></section>
    <ul><li><section><h1 id=2881>
    <span class="no">[2881]</span>
    <a class="thread-title" href="#2881">Re7:選択終点追加</a>
    <span class="author">かろと</span>
    <time datetime="2003-06-22T03:10:12">2003年06月22日 03:10</time></h1>
    <div class="body">&gt;処で、検索文字の「.」は、現状の「[^\n]」と同じではなく、「[^\r\n]」と同じではないかと思いますが。<br><br>残念ながら、「.」の定義は、BREGEXP.DLLで決まっているので、[^\n]としかならんのです。<br><br><br>&gt;---------<br>&gt;「[^\r\n]*」→「from $&amp; to $&amp;」の置換で、<br>&gt;---------<br>&gt;from aa to aafrom  to [CR+LF]<br>&gt;---------<br>&gt;となるのはどうしてでしょうか。(バグ？)<br><br>バグではありません。<br>前のレスの繰り返しになりますが、* は０文字以上にマッチですので、[CR+LF]前の０文字にもマッチしたと考えてください。<br><br></div></section>
    </li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></body></html>