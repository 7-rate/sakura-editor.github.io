<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css">
  <script src='../bbs.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120820034-1"></script>

  <link href="../bbs.css" type="text/css" rel="stylesheet">
  <link rel="shortcut icon" href="/favicon.ico">
  <title>色指定がおかしい | サクラエディタ過去ログ</title>
</head>
<body>
<ul class="side">
        <a href="./" class="toindex">◀Unicode版開発トップへ</a>
        <li><div class="list-title">
    <span class="no">2056</span>
    <a class="thread-title" href="2056.html#2056">色指定がおかしい</a></div>
    <ul><li><div class="list-title">
    <span class="no">2057</span>
    <a class="thread-title" href="2056.html#2057">Re: 色指定がおかしい</a></div>
    <ul><li><div class="list-title">
    <span class="no">2058</span>
    <a class="thread-title" href="2056.html#2058">Re2: 色指定がおかしい</a></div>
    <ul><li><div class="list-title">
    <span class="no">2059</span>
    <a class="thread-title" href="2056.html#2059">Re3: 色指定がおかしい</a></div>
    <ul><li><div class="list-title">
    <span class="no">2061</span>
    <a class="thread-title" href="2056.html#2061">Re4: 色指定がおかしい</a></div>
    <ul><li><div class="list-title">
    <span class="no">2062</span>
    <a class="thread-title" href="2056.html#2062">Re5: 色指定がおかしい</a></div>
    </li></ul></li></ul></li></ul></li><li><div class="list-title">
    <span class="no">2060</span>
    <a class="thread-title" href="2056.html#2060">Re2: 色指定がおかしい</a></div>
    </li></ul></li></ul></li>
    </ul><ul class="main"><li><section><h1 id=2056>
    <span class="no">[2056]</span>
    <a class="thread-title" href="#2056">色指定がおかしい</a>
    <span class="author">もか</span>
    <time datetime="2013-11-20T23:26:39">2013年11月20日 23:26</time></h1>
    <div class="body">trunk2のr3450,r3447で作業したところ<br>タイプ別設定の色指定のところが、いつのまにかなんかおかしいです。<br>初期化されて表示されるみたいです。<br>取り急ぎ報告まで。<br></div></section>
    <ul><li><section><h1 id=2057>
    <span class="no">[2057]</span>
    <a class="thread-title" href="#2057">Re: 色指定がおかしい</a>
    <span class="author">もか</span>
    <time datetime="2013-11-20T23:31:22">2013年11月20日 23:31</time></h1>
    <div class="body">r3434のときはおかしくなかったです。<br></div></section>
    <ul><li><section><h1 id=2058>
    <span class="no">[2058]</span>
    <a class="thread-title" href="#2058">Re2: 色指定がおかしい</a>
    <span class="author">novice</span>
    <time datetime="2013-11-20T23:48:37">2013年11月20日 23:48</time></h1>
    <div class="body">▼ もかさん<br>&gt; r3434のときはおかしくなかったです。<br><br>r3441も大丈夫でした。<br>r3447(各国語対応)が怪しそうです。もう少し調べてみます。<br></div></section>
    <ul><li><section><h1 id=2059>
    <span class="no">[2059]</span>
    <a class="thread-title" href="#2059">Re3: 色指定がおかしい</a>
    <span class="author">novice</span>
    <time datetime="2013-11-20T23:58:02">2013年11月20日 23:58</time></h1>
    <div class="body">▼ noviceさん<br>&gt; r3441も大丈夫でした。<br>&gt; r3447(各国語対応)が怪しそうです。もう少し調べてみます。<br><br>CPropTypesColor::SetData()で<br>GetDefaultColorInfo()を呼び出しているのが原因のようです。<br>コメントアウトすると大丈夫のようです。<br><br>CPropTypesRegex::SetData()も同様の変更があります。<br></div></section>
    <ul><li><section><h1 id=2061>
    <span class="no">[2061]</span>
    <a class="thread-title" href="#2061">Re4: 色指定がおかしい</a>
    <span class="author">もか</span>
    <time datetime="2013-11-21T00:08:30">2013年11月21日 00:08</time></h1>
    <div class="body">&gt;▼ noviceさん<br>&gt;&gt; r3441も大丈夫でした。<br>&gt;&gt; r3447(各国語対応)が怪しそうです。もう少し調べてみます。<br>&gt;<br>&gt;CPropTypesColor::SetData()で<br>&gt;GetDefaultColorInfo()を呼び出しているのが原因のようです。<br>&gt;コメントアウトすると大丈夫のようです。<br>&gt;<br>&gt;CPropTypesRegex::SetData()も同様の変更があります。<br>お手数おかけしましたm(__)m<br><br>ところでこれ、GetDefaultColorInfoで色リスト名をそのうち国際化して<br>再設定するためっぽいですが、設定内容まで初期化してはだめですよね。<br>タイプ別設定ごとに、名前を持っているようですが、<br>将来特定タイプに特化した色名を指定できるようにするのが狙いでしょうか。<br></div></section>
    <ul><li><section><h1 id=2062>
    <span class="no">[2062]</span>
    <a class="thread-title" href="#2062">Re5: 色指定がおかしい</a>
    <span class="author">novice</span>
    <time datetime="2013-11-21T00:21:32">2013年11月21日 00:21</time></h1>
    <div class="body">▼ もかさん<br>&gt; ところでこれ、GetDefaultColorInfoで色リスト名をそのうち国際化して<br>&gt; 再設定するためっぽいですが、設定内容まで初期化してはだめですよね。<br>&gt; タイプ別設定ごとに、名前を持っているようですが、<br>&gt; 将来特定タイプに特化した色名を指定できるようにするのが狙いでしょうか。<br><br>言語DLLを切り替えたときに、<br>m_nNameIdに対応した文字列を更新したいのだと思います。<br>(元々はこの部分が日本語になってました)<br>現状のままだと全部初期化してしまうので、<br>_tcscpy()の処理だけ行うようにすればよさそうです。<br>もう少し調べてみます。<br></div></section>
    </li></ul></li></ul></li></ul></li><li><section><h1 id=2060>
    <span class="no">[2060]</span>
    <a class="thread-title" href="#2060">Re2: 色指定がおかしい</a>
    <span class="author">もか</span>
    <time datetime="2013-11-21T00:03:44">2013年11月21日 00:03</time></h1>
    <div class="body">連投すみません。国際化パッチが原因でした。パッチを投げました。<br></div></section>
    </li></ul></li></ul></li></ul></body></html>